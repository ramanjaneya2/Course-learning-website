/*! For license information please see 3742-26a9d22364ec6adc59fd.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[3742],{80977:function(e,t,n){"use strict";var r=n(84481),i=(0,r.createContext)([]);t.Z=i},31120:function(e,t,n){"use strict";n.d(t,{$8:function(){return f},WR:function(){return a},dB:function(){return l},eU:function(){return o},wh:function(){return i}});var r=n(65727),i="RfSubscription",o="PremiumAccessAgreement",a=function(e){return"AffiliateFree"===e},u=function(e){switch(e){case"OneMonth":return"monthly";case"ThreeMonth":return"quarterly";case"SixMonth":return"semi_annually";default:return"annual"}},c=function(e){var t=!!e&&e.match(/\d+/);return t?t[0].replace(/^0+/,""):void 0},s=function(e){if(e)return e.match(/prem/i)?e.match(/plus/i)?"signatureplus":"signature":"essentials"},l=function(e){switch(e){case"RfImage":case"RfLicense":case"RmImage":case"RmLicense":case"RrClip":case"RfClip":return"asset";case"ImagePack":return"image_pack";case i:return"subscription";case"CreditPack":return"credits";case"ServiceFee":return"service_fee";case"XProduct":case"Audio":case"Multimedia":case"RrImage":case"XClipRf":return"x_product";case o:return"pa_agreement";default:return}},f=function(e){var t;if(void 0===e&&(e=null),e&&0!==e.length)return null==(t=e)?void 0:t.filter((function(e){return!/_upsell/.test(e.product_type)})).map((function(e){return function(e){var t,n,i,o,a,f,d,h,p,m,v=(0,r.o$)(e),_=v.finalPrice,g=v.discount,y=l(e.product_type),w=["Promotion","None"].includes(e.discount_type)?void 0:e.discount_type;return Object.assign({item_id:null!=(t=e.sku)?t:e.asset_id,item_name:null!=(n=e.description)?n:void 0,currency:"USD",discount:(0,r.FW)(g,e.currency_code),price:(0,r.FW)(_,e.currency_code),item_brand:null!=(i=window.currentSite)&&i.isiStock?"istock":"getty",quantity:1,coupon:w,item_category:y},"asset"===y&&{item_category2:null==(o=e.asset_type)?void 0:o.toLowerCase(),item_variant:null==(a=e.license_type)?void 0:a.toLowerCase(),item_list_name:null==(f=e.asset_type)?void 0:f.toLowerCase()},"image_pack"===y&&{item_category2:(m=e.sku,m.includes("PREMPCKHI")?"high":m.includes("PREMPCKMD")?"medium":"small"),item_variant:c(e.sku),item_list_name:(p=e.sku,p.includes("PREMPCKHI")?"high_image_packs":p.includes("PREMPCKMD")?"medium_image_packs":"small_image_packs_")},"subscription"===y&&{item_category2:u(e.duration),item_category3:(h=e.purchase_type,"upgrade"===(null==h?void 0:h.toLowerCase())?"upgrade":"renew"===(null==h?void 0:h.toLowerCase())||"expireandrenew"===(null==h?void 0:h.toLowerCase())?"renewal":void 0),item_variant:null==(d=e.download_limit)?void 0:d.toString(),item_list_name:"subscriptions",item_list_id:s(e.sku),coupon:e.alternate_price_name&&!w?e.alternate_price_name:w},"pa_agreement"===y&&{item_list_name:"pa_agreement"},"credits"===y&&{item_variant:c(e.sku),item_list_name:"credits"},{location_id:e.location_id?e.location_id:void 0})}(e)}))}},65727:function(e,t,n){"use strict";n.d(t,{FW:function(){return Je},T4:function(){return Ge},ji:function(){return We},o$:function(){return Ke}});var r,i,o=9e15,a=1e9,u="0123456789abcdef",c="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",s="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",l={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-o,maxE:o,crypto:!1},f=!0,d="[DecimalError] ",h=d+"Invalid argument: ",p=d+"Precision limit exceeded",m=d+"crypto unavailable",v="[object Decimal]",_=Math.floor,g=Math.pow,y=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,w=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,b=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,C=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,E=1e7,x=7,S=c.length-1,k=s.length-1,M={toStringTag:v};function I(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",(n=x-r.length)&&(o+=z(n)),o+=r;a=e[t],(n=x-(r=a+"").length)&&(o+=z(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function L(e,t,n){if(e!==~~e||e<t||e>n)throw Error(h+e)}function O(e,t,n,r){var i,o,a,u;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=x,i=0):(i=Math.ceil((t+1)/x),t%=x),o=g(10,x-t),u=e[i]%o|0,null==r?t<3?(0==t?u=u/100|0:1==t&&(u=u/10|0),a=n<4&&99999==u||n>3&&49999==u||5e4==u||0==u):a=(n<4&&u+1==o||n>3&&u+1==o/2)&&(e[i+1]/o/100|0)==g(10,t-2)-1||(u==o/2||0==u)&&0==(e[i+1]/o/100|0):t<4?(0==t?u=u/1e3|0:1==t?u=u/100|0:2==t&&(u=u/10|0),a=(r||n<4)&&9999==u||!r&&n>3&&4999==u):a=((r||n<4)&&u+1==o||!r&&n>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==g(10,t-3)-1,a}function N(e,t,n){for(var r,i,o=[0],a=0,c=e.length;a<c;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=u.indexOf(e.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}M.absoluteValue=M.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),R(e)},M.ceil=function(){return R(new this.constructor(this),this.e+1,2)},M.clampedTo=M.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(h+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},M.comparedTo=M.cmp=function(e){var t,n,r,i,o=this,a=o.d,u=(e=new o.constructor(e)).d,c=o.s,s=e.s;if(!a||!u)return c&&s?c!==s?c:a===u?0:!a^c<0?1:-1:NaN;if(!a[0]||!u[0])return a[0]?c:u[0]?-s:0;if(c!==s)return c;if(o.e!==e.e)return o.e>e.e^c<0?1:-1;for(t=0,n=(r=a.length)<(i=u.length)?r:i;t<n;++t)if(a[t]!==u[t])return a[t]>u[t]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1},M.cosine=M.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+x,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?i=(1/J(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");e.precision+=n,t=G(e,1,t.times(i),new e(1));for(var o=n;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,Y(r,n)),r.precision=e,r.rounding=t,R(2==i||3==i?n.neg():n,e,t,!0)):new r(1):new r(NaN)},M.cubeRoot=M.cbrt=function(){var e,t,n,r,i,o,a,u,c,s,l=this,d=l.constructor;if(!l.isFinite()||l.isZero())return new d(l);for(f=!1,(o=l.s*g(l.s*l,1/3))&&Math.abs(o)!=1/0?r=new d(o.toString()):(n=I(l.d),(o=((e=l.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=g(n,1/3),e=_((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),a=(e=d.precision)+3;;)if(s=(c=(u=r).times(u).times(u)).plus(l),r=j(s.plus(l).times(u),s.plus(c),a+2,1),I(u.d).slice(0,a)===(n=I(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(R(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!i&&(R(u,e+1,0),u.times(u).times(u).eq(l))){r=u;break}a+=4,i=1}return f=!0,R(r,e,d.rounding,t)},M.decimalPlaces=M.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=((e=t.length-1)-_(this.e/x))*x,e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},M.dividedBy=M.div=function(e){return j(this,new this.constructor(e))},M.dividedToIntegerBy=M.divToInt=function(e){var t=this.constructor;return R(j(this,new t(e),0,1,1),t.precision,t.rounding)},M.equals=M.eq=function(e){return 0===this.cmp(e)},M.floor=function(){return R(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(e){return this.cmp(e)>0},M.greaterThanOrEqualTo=M.gte=function(e){var t=this.cmp(e);return 1==t||0===t},M.hyperbolicCosine=M.cosh=function(){var e,t,n,r,i,o=this,a=o.constructor,u=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return u;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?t=(1/J(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=G(a,1,o.times(t),new a(1),!0);for(var c,s=e,l=new a(8);s--;)c=o.times(o),o=u.minus(c.times(l.minus(c.times(l))));return R(o,a.precision=n,a.rounding=r,!0)},M.hyperbolicSine=M.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=G(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=G(o,2,i=i.times(1/J(5,e)),i,!0);for(var a,u=new o(5),c=new o(16),s=new o(20);e--;)a=i.times(i),i=i.times(u.plus(a.times(c.times(a).plus(s))))}return o.precision=t,o.rounding=n,R(i,t,n,!0)},M.hyperbolicTangent=M.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,j(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},M.inverseCosine=M.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?H(n,i,o):new n(0):new n(NaN):t.isZero()?H(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=H(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},M.inverseHyperbolicCosine=M.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,f=!1,n=n.times(n).minus(1).sqrt().plus(n),f=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},M.inverseHyperbolicSine=M.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,f=!1,n=n.times(n).plus(1).sqrt().plus(n),f=!0,r.precision=e,r.rounding=t,n.ln())},M.inverseHyperbolicTangent=M.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?R(new o(i),e,t,!0):(o.precision=n=r-i.e,i=j(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},M.inverseSine=M.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=H(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},M.inverseTangent=M.atan=function(){var e,t,n,r,i,o,a,u,c,s=this,l=s.constructor,d=l.precision,h=l.rounding;if(s.isFinite()){if(s.isZero())return new l(s);if(s.abs().eq(1)&&d+4<=k)return(a=H(l,d+4,h).times(.25)).s=s.s,a}else{if(!s.s)return new l(NaN);if(d+4<=k)return(a=H(l,d+4,h).times(.5)).s=s.s,a}for(l.precision=u=d+10,l.rounding=1,e=n=Math.min(28,u/x+2|0);e;--e)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(f=!1,t=Math.ceil(u/x),r=1,c=s.times(s),a=new l(s),i=s;-1!==e;)if(i=i.times(c),o=a.minus(i.div(r+=2)),i=i.times(c),void 0!==(a=o.plus(i.div(r+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),f=!0,R(a,l.precision=d,l.rounding=h,!0)},M.isFinite=function(){return!!this.d},M.isInteger=M.isInt=function(){return!!this.d&&_(this.e/x)>this.d.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isPositive=M.isPos=function(){return this.s>0},M.isZero=function(){return!!this.d&&0===this.d[0]},M.lessThan=M.lt=function(e){return this.cmp(e)<0},M.lessThanOrEqualTo=M.lte=function(e){return this.cmp(e)<1},M.logarithm=M.log=function(e){var t,n,r,i,o,a,u,c,s=this,l=s.constructor,d=l.precision,h=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=s.d,s.s<0||!n||!n[0]||s.eq(1))return new l(n&&!n[0]?-1/0:1!=s.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(f=!1,a=F(s,u=d+5),r=t?P(l,u+10):F(e,u),O((c=j(a,r,u,1)).d,i=d,h))do{if(a=F(s,u+=10),r=t?P(l,u+10):F(e,u),c=j(a,r,u,1),!o){+I(c.d).slice(i+1,i+15)+1==1e14&&(c=R(c,d+1,0));break}}while(O(c.d,i+=10,h));return f=!0,R(c,d,h)},M.minus=M.sub=function(e){var t,n,r,i,o,a,u,c,s,l,d,h,p=this,m=p.constructor;if(e=new m(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new m(e.d||p.s!==e.s?p:NaN):e=new m(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(s=p.d,h=e.d,u=m.precision,c=m.rounding,!s[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!s[0])return new m(3===c?-0:0);e=new m(p)}return f?R(e,u,c):e}if(n=_(e.e/x),l=_(p.e/x),s=s.slice(),o=l-n){for((d=o<0)?(t=s,o=-o,a=h.length):(t=h,n=l,a=s.length),o>(r=Math.max(Math.ceil(u/x),a)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((d=(r=s.length)<(a=h.length))&&(a=r),r=0;r<a;r++)if(s[r]!=h[r]){d=s[r]<h[r];break}o=0}for(d&&(t=s,s=h,h=t,e.s=-e.s),a=s.length,r=h.length-a;r>0;--r)s[a++]=0;for(r=h.length;r>o;){if(s[--r]<h[r]){for(i=r;i&&0===s[--i];)s[i]=E-1;--s[i],s[r]+=E}s[r]-=h[r]}for(;0===s[--a];)s.pop();for(;0===s[0];s.shift())--n;return s[0]?(e.d=s,e.e=D(s,n),f?R(e,u,c):e):new m(3===c?-0:0)},M.modulo=M.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?R(new r(n),r.precision,r.rounding):(f=!1,9==r.modulo?(t=j(n,e.abs(),0,3,1)).s*=e.s:t=j(n,e,0,r.modulo,1),t=t.times(e),f=!0,n.minus(t))},M.naturalExponential=M.exp=function(){return q(this)},M.naturalLogarithm=M.ln=function(){return F(this)},M.negated=M.neg=function(){var e=new this.constructor(this);return e.s=-e.s,R(e)},M.plus=M.add=function(e){var t,n,r,i,o,a,u,c,s,l,d=this,h=d.constructor;if(e=new h(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new h(e.d||d.s===e.s?d:NaN)):e=new h(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(s=d.d,l=e.d,u=h.precision,c=h.rounding,!s[0]||!l[0])return l[0]||(e=new h(d)),f?R(e,u,c):e;if(o=_(d.e/x),r=_(e.e/x),s=s.slice(),i=o-r){for(i<0?(n=s,i=-i,a=l.length):(n=l,r=o,a=s.length),i>(a=(o=Math.ceil(u/x))>a?o+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=s.length)-(i=l.length)<0&&(i=a,n=l,l=s,s=n),t=0;i;)t=(s[--i]=s[i]+l[i]+t)/E|0,s[i]%=E;for(t&&(s.unshift(t),++r),a=s.length;0==s[--a];)s.pop();return e.d=s,e.e=D(s,r),f?R(e,u,c):e},M.precision=M.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(h+e);return n.d?(t=T(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},M.round=function(){var e=this,t=e.constructor;return R(new t(e),e.e+1,t.rounding)},M.sine=M.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+x,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:G(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/J(5,n)),t=G(e,2,t,t);for(var i,o=new e(5),a=new e(16),u=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(u))));return t}(r,Y(r,n)),r.precision=e,r.rounding=t,R(i>2?n.neg():n,e,t,!0)):new r(NaN)},M.squareRoot=M.sqrt=function(){var e,t,n,r,i,o,a=this,u=a.d,c=a.e,s=a.s,l=a.constructor;if(1!==s||!u||!u[0])return new l(!s||s<0&&(!u||u[0])?NaN:u?a:1/0);for(f=!1,0==(s=Math.sqrt(+a))||s==1/0?(((t=I(u)).length+c)%2==0&&(t+="0"),s=Math.sqrt(t),c=_((c+1)/2)-(c<0||c%2),r=new l(t=s==1/0?"5e"+c:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new l(s.toString()),n=(c=l.precision)+3;;)if(r=(o=r).plus(j(a,o,n+2,1)).times(.5),I(o.d).slice(0,n)===(t=I(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(R(r,c+1,1),e=!r.times(r).eq(a));break}if(!i&&(R(o,c+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return f=!0,R(r,c,l.rounding,e)},M.tangent=M.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=j(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,R(2==i||4==i?n.neg():n,e,t,!0)):new r(NaN)},M.times=M.mul=function(e){var t,n,r,i,o,a,u,c,s,l=this,d=l.constructor,h=l.d,p=(e=new d(e)).d;if(e.s*=l.s,!(h&&h[0]&&p&&p[0]))return new d(!e.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:h&&p?0*e.s:e.s/0);for(n=_(l.e/x)+_(e.e/x),(c=h.length)<(s=p.length)&&(o=h,h=p,p=o,a=c,c=s,s=a),o=[],r=a=c+s;r--;)o.push(0);for(r=s;--r>=0;){for(t=0,i=c+r;i>r;)u=o[i]+p[r]*h[i-r-1]+t,o[i--]=u%E|0,t=u/E|0;o[i]=(o[i]+t)%E|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=D(o,n),f?R(e,d.precision,d.rounding):e},M.toBinary=function(e,t){return Q(this,2,e,t)},M.toDecimalPlaces=M.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(L(e,0,a),void 0===t?t=r.rounding:L(t,0,8),R(n,e+n.e+1,t))},M.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=A(r,!0):(L(e,0,a),void 0===t?t=i.rounding:L(t,0,8),n=A(r=R(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},M.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=A(i):(L(e,0,a),void 0===t?t=o.rounding:L(t,0,8),n=A(r=R(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},M.toFraction=function(e){var t,n,r,i,o,a,u,c,s,l,d,p,m=this,v=m.d,_=m.constructor;if(!v)return new _(m);if(s=n=new _(1),r=c=new _(0),a=(o=(t=new _(r)).e=T(v)-m.e-1)%x,t.d[0]=g(10,a<0?x+a:a),null==e)e=o>0?t:s;else{if(!(u=new _(e)).isInt()||u.lt(s))throw Error(h+u);e=u.gt(t)?o>0?t:s:u}for(f=!1,u=new _(I(v)),l=_.precision,_.precision=o=v.length*x*2;d=j(u,t,0,1,1),1!=(i=n.plus(d.times(r))).cmp(e);)n=r,r=i,i=s,s=c.plus(d.times(i)),c=i,i=t,t=u.minus(d.times(i)),u=i;return i=j(e.minus(n),r,0,1,1),c=c.plus(i.times(s)),n=n.plus(i.times(r)),c.s=s.s=m.s,p=j(s,r,o,1).minus(m).abs().cmp(j(c,n,o,1).minus(m).abs())<1?[s,r]:[c,n],_.precision=l,f=!0,p},M.toHexadecimal=M.toHex=function(e,t){return Q(this,16,e,t)},M.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:L(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(f=!1,n=j(n,e,0,t,1).times(e),f=!0,R(n)):(e.s=n.s,n=e),n},M.toNumber=function(){return+this},M.toOctal=function(e,t){return Q(this,8,e,t)},M.toPower=M.pow=function(e){var t,n,r,i,o,a,u=this,c=u.constructor,s=+(e=new c(e));if(!(u.d&&e.d&&u.d[0]&&e.d[0]))return new c(g(+u,s));if((u=new c(u)).eq(1))return u;if(r=c.precision,o=c.rounding,e.eq(1))return R(u,r,o);if((t=_(e.e/x))>=e.d.length-1&&(n=s<0?-s:s)<=9007199254740991)return i=Z(c,u,n,r),e.s<0?new c(1).div(i):R(i,r,o);if((a=u.s)<0){if(t<e.d.length-1)return new c(NaN);if(0==(1&e.d[t])&&(a=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=a,u}return(t=0!=(n=g(+u,s))&&isFinite(n)?new c(n+"").e:_(s*(Math.log("0."+I(u.d))/Math.LN10+u.e+1)))>c.maxE+1||t<c.minE-1?new c(t>0?a/0:0):(f=!1,c.rounding=u.s=1,n=Math.min(12,(t+"").length),(i=q(e.times(F(u,r+n)),r)).d&&O((i=R(i,r+5,1)).d,r,o)&&(t=r+10,+I((i=R(q(e.times(F(u,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=R(i,r+1,0))),i.s=a,f=!0,c.rounding=o,R(i,r,o))},M.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=A(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(L(e,1,a),void 0===t?t=i.rounding:L(t,0,8),n=A(r=R(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},M.toSignificantDigits=M.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(L(e,1,a),void 0===t?t=n.rounding:L(t,0,8)),R(new n(this),e,t)},M.toString=function(){var e=this,t=e.constructor,n=A(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},M.truncated=M.trunc=function(){return R(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){var e=this,t=e.constructor,n=A(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var j=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(i,o,a,u,c,s){var l,f,d,h,p,m,v,g,y,w,b,C,S,k,M,I,L,O,N,j,A=i.constructor,D=i.s==o.s?1:-1,P=i.d,H=o.d;if(!(P&&P[0]&&H&&H[0]))return new A(i.s&&o.s&&(P?!H||P[0]!=H[0]:H)?P&&0==P[0]||!H?0*D:D/0:NaN);for(s?(p=1,f=i.e-o.e):(s=E,p=x,f=_(i.e/p)-_(o.e/p)),N=H.length,L=P.length,w=(y=new A(D)).d=[],d=0;H[d]==(P[d]||0);d++);if(H[d]>(P[d]||0)&&f--,null==a?(k=a=A.precision,u=A.rounding):k=c?a+(i.e-o.e)+1:a,k<0)w.push(1),m=!0;else{if(k=k/p+2|0,d=0,1==N){for(h=0,H=H[0],k++;(d<L||h)&&k--;d++)M=h*s+(P[d]||0),w[d]=M/H|0,h=M%H|0;m=h||d<L}else{for((h=s/(H[0]+1)|0)>1&&(H=e(H,h,s),P=e(P,h,s),N=H.length,L=P.length),I=N,C=(b=P.slice(0,N)).length;C<N;)b[C++]=0;(j=H.slice()).unshift(0),O=H[0],H[1]>=s/2&&++O;do{h=0,(l=t(H,b,N,C))<0?(S=b[0],N!=C&&(S=S*s+(b[1]||0)),(h=S/O|0)>1?(h>=s&&(h=s-1),1==(l=t(v=e(H,h,s),b,g=v.length,C=b.length))&&(h--,n(v,N<g?j:H,g,s))):(0==h&&(l=h=1),v=H.slice()),(g=v.length)<C&&v.unshift(0),n(b,v,C,s),-1==l&&(l=t(H,b,N,C=b.length))<1&&(h++,n(b,N<C?j:H,C,s)),C=b.length):0===l&&(h++,b=[0]),w[d++]=h,l&&b[0]?b[C++]=P[I]||0:(b=[P[I]],C=1)}while((I++<L||void 0!==b[0])&&k--);m=void 0!==b[0]}w[0]||w.shift()}if(1==p)y.e=f,r=m;else{for(d=1,h=w[0];h>=10;h/=10)d++;y.e=d+f*p-1,R(y,c?a+y.e+1:a,u,m)}return y}}();function R(e,t,n,r){var i,o,a,u,c,s,l,d,h,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,u=d[0];u>=10;u/=10)i++;if((o=t-i)<0)o+=x,a=t,c=(l=d[h=0])/g(10,i-a-1)%10|0;else if((h=Math.ceil((o+1)/x))>=(u=d.length)){if(!r)break e;for(;u++<=h;)d.push(0);l=c=0,i=1,a=(o%=x)-x+1}else{for(l=u=d[h],i=1;u>=10;u/=10)i++;c=(a=(o%=x)-x+i)<0?0:l/g(10,i-a-1)%10|0}if(r=r||t<0||void 0!==d[h+1]||(a<0?l:l%g(10,i-a-1)),s=n<4?(c||r)&&(0==n||n==(e.s<0?3:2)):c>5||5==c&&(4==n||r||6==n&&(o>0?a>0?l/g(10,i-a):0:d[h-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,s?(t-=e.e+1,d[0]=g(10,(x-t%x)%x),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=h,u=1,h--):(d.length=h+1,u=g(10,x-o),d[h]=a>0?(l/g(10,i-a)%g(10,a)|0)*u:0),s)for(;;){if(0==h){for(o=1,a=d[0];a>=10;a/=10)o++;for(a=d[0]+=u,u=1;a>=10;a/=10)u++;o!=u&&(e.e++,d[0]==E&&(d[0]=1));break}if(d[h]+=u,d[h]!=E)break;d[h--]=0,u=1}for(o=d.length;0===d[--o];)d.pop()}return f&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function A(e,t,n){if(!e.isFinite())return U(e);var r,i=e.e,o=I(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+z(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+z(-i-1)+o,n&&(r=n-a)>0&&(o+=z(r))):i>=a?(o+=z(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+z(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=z(r))),o}function D(e,t){var n=e[0];for(t*=x;n>=10;n/=10)t++;return t}function P(e,t,n){if(t>S)throw f=!0,n&&(e.precision=n),Error(p);return R(new e(c),t,1,!0)}function H(e,t,n){if(t>k)throw Error(p);return R(new e(s),t,n,!0)}function T(e){var t=e.length-1,n=t*x+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function z(e){for(var t="";e--;)t+="0";return t}function Z(e,t,n,r){var i,o=new e(1),a=Math.ceil(r/x+4);for(f=!1;;){if(n%2&&X((o=o.times(t)).d,a)&&(i=!0),0===(n=_(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}X((t=t.times(t)).d,a)}return f=!0,o}function V(e){return 1&e.d[e.d.length-1]}function B(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function q(e,t){var n,r,i,o,a,u,c,s=0,l=0,d=0,h=e.constructor,p=h.rounding,m=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(f=!1,c=m):c=t,u=new h(.03125);e.e>-2;)e=e.times(u),d+=5;for(c+=r=Math.log(g(2,d))/Math.LN10*2+5|0,n=o=a=new h(1),h.precision=c;;){if(o=R(o.times(e),c,1),n=n.times(++l),I((u=a.plus(j(o,n,c,1))).d).slice(0,c)===I(a.d).slice(0,c)){for(i=d;i--;)a=R(a.times(a),c,1);if(null!=t)return h.precision=m,a;if(!(s<3&&O(a.d,c-r,p,s)))return R(a,h.precision=m,p,f=!0);h.precision=c+=10,n=o=u=new h(1),l=0,s++}a=u}}function F(e,t){var n,r,i,o,a,u,c,s,l,d,h,p=1,m=e,v=m.d,_=m.constructor,g=_.rounding,y=_.precision;if(m.s<0||!v||!v[0]||!m.e&&1==v[0]&&1==v.length)return new _(v&&!v[0]?-1/0:1!=m.s?NaN:v?0:m);if(null==t?(f=!1,l=y):l=t,_.precision=l+=10,r=(n=I(v)).charAt(0),!(Math.abs(o=m.e)<15e14))return s=P(_,l+2,y).times(o+""),m=F(new _(r+"."+n.slice(1)),l-10).plus(s),_.precision=y,null==t?R(m,y,g,f=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=I((m=m.times(e)).d)).charAt(0),p++;for(o=m.e,r>1?(m=new _("0."+n),o++):m=new _(r+"."+n.slice(1)),d=m,c=a=m=j(m.minus(1),m.plus(1),l,1),h=R(m.times(m),l,1),i=3;;){if(a=R(a.times(h),l,1),I((s=c.plus(j(a,new _(i),l,1))).d).slice(0,l)===I(c.d).slice(0,l)){if(c=c.times(2),0!==o&&(c=c.plus(P(_,l+2,y).times(o+""))),c=j(c,new _(p),l,1),null!=t)return _.precision=y,c;if(!O(c.d,l-10,g,u))return R(c,_.precision=y,g,f=!0);_.precision=l+=10,s=a=m=j(d.minus(1),d.plus(1),l,1),h=R(m.times(m),l,1),i=u=1}c=s,i+=2}}function U(e){return String(e.s*e.s/0)}function K(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%x,n<0&&(r+=x),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=x;r<i;)e.d.push(+t.slice(r,r+=x));t=t.slice(r),r=x-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),f&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function W(e,t){var n,r,i,o,a,u,c,s,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),C.test(t))return K(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(w.test(t))n=16,t=t.toLowerCase();else if(y.test(t))n=2;else{if(!b.test(t))throw Error(h+t);n=8}for((o=t.search(/p/i))>0?(c=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),a=(o=t.indexOf("."))>=0,r=e.constructor,a&&(o=(u=(t=t.replace(".","")).length)-o,i=Z(r,new r(n),o,2*o)),o=l=(s=N(t,n,E)).length-1;0===s[o];--o)s.pop();return o<0?new r(0*e.s):(e.e=D(s,l),e.d=s,f=!1,a&&(e=j(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?g(2,c):ze.pow(2,c))),f=!0,e)}function G(e,t,n,r,i){var o,a,u,c,s=e.precision,l=Math.ceil(s/x);for(f=!1,c=n.times(n),u=new e(r);;){if(a=j(u.times(c),new e(t++*t++),s,1),u=i?r.plus(a):r.minus(a),r=j(a.times(c),new e(t++*t++),s,1),void 0!==(a=u.plus(r)).d[l]){for(o=l;a.d[o]===u.d[o]&&o--;);if(-1==o)break}o=u,u=r,r=a,a=o}return f=!0,a.d.length=l+1,a}function J(e,t){for(var n=e;--t;)n*=e;return n}function Y(e,t){var n,r=t.s<0,o=H(e,e.precision,1),a=o.times(.5);if((t=t.abs()).lte(a))return i=r?4:1,t;if((n=t.divToInt(o)).isZero())i=r?3:2;else{if((t=t.minus(n.times(o))).lte(a))return i=V(n)?r?2:3:r?4:1,t;i=V(n)?r?1:4:r?3:2}return t.minus(o).abs()}function Q(e,t,n,i){var o,c,s,l,f,d,h,p,m,v=e.constructor,_=void 0!==n;if(_?(L(n,1,a),void 0===i?i=v.rounding:L(i,0,8)):(n=v.precision,i=v.rounding),e.isFinite()){for(_?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,(s=(h=A(e)).indexOf("."))>=0&&(h=h.replace(".",""),(m=new v(1)).e=h.length-s,m.d=N(A(m),10,o),m.e=m.d.length),c=f=(p=N(h,10,o)).length;0==p[--f];)p.pop();if(p[0]){if(s<0?c--:((e=new v(e)).d=p,e.e=c,p=(e=j(e,m,n,i,0,o)).d,c=e.e,d=r),s=p[n],l=o/2,d=d||void 0!==p[n+1],d=i<4?(void 0!==s||d)&&(0===i||i===(e.s<0?3:2)):s>l||s===l&&(4===i||d||6===i&&1&p[n-1]||i===(e.s<0?8:7)),p.length=n,d)for(;++p[--n]>o-1;)p[n]=0,n||(++c,p.unshift(1));for(f=p.length;!p[f-1];--f);for(s=0,h="";s<f;s++)h+=u.charAt(p[s]);if(_){if(f>1)if(16==t||8==t){for(s=16==t?4:3,--f;f%s;f++)h+="0";for(f=(p=N(h,o,t)).length;!p[f-1];--f);for(s=1,h="1.";s<f;s++)h+=u.charAt(p[s])}else h=h.charAt(0)+"."+h.slice(1);h=h+(c<0?"p":"p+")+c}else if(c<0){for(;++c;)h="0"+h;h="0."+h}else if(++c>f)for(c-=f;c--;)h+="0";else c<f&&(h=h.slice(0,c)+"."+h.slice(c))}else h=_?"0p+0":"0";h=(16==t?"0x":2==t?"0b":8==t?"0o":"")+h}else h=U(e);return e.s<0?"-"+h:h}function X(e,t){if(e.length>t)return e.length=t,!0}function $(e){return new this(e).abs()}function ee(e){return new this(e).acos()}function te(e){return new this(e).acosh()}function ne(e,t){return new this(e).plus(t)}function re(e){return new this(e).asin()}function ie(e){return new this(e).asinh()}function oe(e){return new this(e).atan()}function ae(e){return new this(e).atanh()}function ue(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?H(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=H(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(j(e,t,o,1)),t=H(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(j(e,t,o,1)):(n=H(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function ce(e){return new this(e).cbrt()}function se(e){return R(e=new this(e),e.e+1,2)}function le(e,t,n){return new this(e).clamp(t,n)}function fe(e){if(!e||"object"!=typeof e)throw Error(d+"Object expected");var t,n,r,i=!0===e.defaults,u=["precision",1,a,"rounding",0,8,"toExpNeg",-o,0,"toExpPos",0,o,"maxE",0,o,"minE",-o,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(n=u[t],i&&(this[n]=l[n]),void 0!==(r=e[n])){if(!(_(r)===r&&r>=u[t+1]&&r<=u[t+2]))throw Error(h+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=l[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(h+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(m);this[n]=!0}else this[n]=!1}return this}function de(e){return new this(e).cos()}function he(e){return new this(e).cosh()}function pe(e,t){return new this(e).div(t)}function me(e){return new this(e).exp()}function ve(e){return R(e=new this(e),e.e+1,3)}function _e(){var e,t,n=new this(0);for(f=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return f=!0,new this(1/0);n=t}return f=!0,n.sqrt()}function ge(e){return e instanceof ze||e&&e.toStringTag===v||!1}function ye(e){return new this(e).ln()}function we(e,t){return new this(e).log(t)}function be(e){return new this(e).log(2)}function Ce(e){return new this(e).log(10)}function Ee(){return B(this,arguments,"lt")}function xe(){return B(this,arguments,"gt")}function Se(e,t){return new this(e).mod(t)}function ke(e,t){return new this(e).mul(t)}function Me(e,t){return new this(e).pow(t)}function Ie(e){var t,n,r,i,o=0,u=new this(1),c=[];if(void 0===e?e=this.precision:L(e,1,a),r=Math.ceil(e/x),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:c[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(m);for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(c.push(i%1e7),o+=4);o=r/4}else for(;o<r;)c[o++]=1e7*Math.random()|0;for(r=c[--o],e%=x,r&&e&&(i=g(10,x-e),c[o]=(r/i|0)*i);0===c[o];o--)c.pop();if(o<0)n=0,c=[0];else{for(n=-1;0===c[0];n-=x)c.shift();for(r=1,i=c[0];i>=10;i/=10)r++;r<x&&(n-=x-r)}return u.e=n,u.d=c,u}function Le(e){return R(e=new this(e),e.e+1,this.rounding)}function Oe(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ne(e){return new this(e).sin()}function je(e){return new this(e).sinh()}function Re(e){return new this(e).sqrt()}function Ae(e,t){return new this(e).sub(t)}function De(){var e=0,t=arguments,n=new this(t[e]);for(f=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return f=!0,R(n,this.precision,this.rounding)}function Pe(e){return new this(e).tan()}function He(e){return new this(e).tanh()}function Te(e){return R(e=new this(e),e.e+1,1)}M[Symbol.for("nodejs.util.inspect.custom")]=M.toString,M[Symbol.toStringTag]="Decimal";var ze=M.constructor=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,ge(e))return i.s=e.s,void(f?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(f?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):K(i,e.toString())}if("string"!==r)throw Error(h+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),C.test(e)?K(i,e):W(i,e)}if(o.prototype=M,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=fe,o.clone=e,o.isDecimal=ge,o.abs=$,o.acos=ee,o.acosh=te,o.add=ne,o.asin=re,o.asinh=ie,o.atan=oe,o.atanh=ae,o.atan2=ue,o.cbrt=ce,o.ceil=se,o.clamp=le,o.cos=de,o.cosh=he,o.div=pe,o.exp=me,o.floor=ve,o.hypot=_e,o.ln=ye,o.log=we,o.log10=Ce,o.log2=be,o.max=Ee,o.min=xe,o.mod=Se,o.mul=ke,o.pow=Me,o.random=Ie,o.round=Le,o.sign=Oe,o.sin=Ne,o.sinh=je,o.sqrt=Re,o.sub=Ae,o.sum=De,o.tan=Pe,o.tanh=He,o.trunc=Te,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(l);c=new ze(c),s=new ze(s);var Ze=n(17129),Ve={success:!0,timestamp:1677785699,base:"USD",date:"2023-03-02",rates:{AED:3.672346,ANG:1.79092713,ARS:215.158798,AUD:1.49416419,BRL:5.02312193,CAD:1.34816691,CHF:.89959521,CLP:805.1076026,CNY:6.88696791,COP:4526.115688,CRC:538.3811954,CZK:21.38586386,DKK:6.80289185,ECS:25e3,EEK:14.26819498,EUR:.91243711,GBP:.80425967,GRD:310.7307766,HKD:7.85064555,HUF:342.8203142,IDR:14887.59863,ILS:3.63526354,INR:81.9839459,ISK:136.4971554,JPY:133.2833965,KRW:1321.929488,MXN:18.10058277,MYR:4.4215262,NOK:10.49262232,NZD:1.6089482,PEN:3.76405574,PHP:55.26498455,PLN:4.23553685,PYG:7159.221077,RUB:81.13735093,SEK:10.35605248,SGD:1.33158966,SIT:218.5286032,THB:34.22883965,TRY:19.33320548,TWD:30.56674723,USD:1,UYU:38.8150239,VEF:1e8,VND:23419.20375,ZAR:18.1687532}},Be=function(e,t){return function(e,t){var n=t.from,r=void 0===n?null:n,i=t.to,o=void 0===i?null:i;if(null===e)return 0;try{return ze.div(e,Ve.rates[r]).times(Ve.rates[o]).toNumber()}catch(e){return void(0,Ze.FO)(e)}}(e,{from:t,to:"USD"})},qe=n(31120),Fe=function(e){switch(e){case"Monthly":return 12;case"Quarterly":return 4;case"EverySixMonths":case"SemiAnnually":return 2;default:return 1}},Ue=function(e){try{return new ze(e)}catch(e){return(0,Ze.FO)(e),new ze(NaN)}},Ke=function(e){if(e.product_type===qe.wh)return function(e){var t,n;if("Upgrade"===e.purchase_type&&e.hasOwnProperty("prorated_adjustment")){var r,i,o,a,u,c=e,s=!!c.periods_remaining,l=null!=(r=c.periods_remaining)?r:1,f=Ue(null==(i=c.prorated_adjustment)?void 0:i.amount),d=Ue(null==(o=c.original_list_price)?void 0:o.amount).add(f);n=Ue(s?null==(a=c.new_remaining_amount)?void 0:a.amount:null==(u=c.final_price)?void 0:u.amount).div(l),t=d.div(l)}else if("Installment"===e.purchase_type){var h;t=n=Ue(null==(h=e.final_price)?void 0:h.amount)}else if((0,qe.WR)(e.purchase_type)){var p,m;t=Ue((null==(p=e.original_list_price)?void 0:p.amount)||(null==(m=e.original_price)?void 0:m.amount)).div(11),n=Ue(0)}else{var v,_,g,y=e.billing_schedule,w=Fe(y||e.selected_billing_frequency);n=y||1===w?Ue(null==(v=e.final_price)?void 0:v.amount):Ue(null==(_=e.final_price)?void 0:_.amount).div(w),t=Ue(null==(g=e.original_list_price)?void 0:g.amount).div(w)}var b=t.minus(n);return{originalPrice:t.toNumber(),finalPrice:n.toNumber(),discount:b.toNumber()}}(e);if(e.product_type===qe.eU)return function(e){var t;if(e.billing_options){var n,r=Fe(e.selected_billing_frequency||e.billing_frequency);t=Ue(null==(n=e.final_price)?void 0:n.amount).div(r)}else{var i;t=Ue(null==(i=e.final_price)?void 0:i.amount)}return{originalPrice:t.toNumber(),finalPrice:t.toNumber(),discount:0}}(e);var t=e.original_price,n=e.final_price,r=Ue(null==n?void 0:n.amount),i=t&&(null==t?void 0:t.amount)>r.toNumber(),o=i?Ue(null==t?void 0:t.amount):r,a=i?o.minus(r):Ue(0);return{originalPrice:o.toNumber(),finalPrice:r.toNumber(),discount:a.toNumber()}},We=function(e){if(void 0===e&&(e=null),!e)return 0;var t=e.filter((function(e){return!/_upsell/.test(e.product_type)})).map((function(e){return Ke(e)})).reduce((function(e,t){var n=t.finalPrice;return e.plus(n)}),Ue(0));return t.toNumber()},Ge=function(e){if(null!=e&&!isNaN(e))return Math.round(100*e)/100},Je=function(e,t){if(null!=e&&!isNaN(e))return e=Be(e,t),Ge(e)}},38098:function(e,t,n){"use strict";var r=n(85893),i=n(84481),o=n(80977);t.Z=function(e,t){return function(n){var a=(0,i.useContext)(o.Z),u=(0,i.useMemo)((function(){return[].concat(a,[t])}),[a,t]);return e.displayName="TrackingLocation("+t+")",(0,r.jsx)(o.Z.Provider,{value:u,children:(0,r.jsx)(e,Object.assign({},n))})}}},18930:function(e,t,n){"use strict";var r=n(84481),i=n(80977);t.Z=function(){var e=(0,r.useContext)(i.Z);return(0,r.useMemo)((function(){return 0===e.length?void 0:e.join("-")}),[e])}},97871:function(e,t,n){"use strict";var r=n(17129);t.Z=(0,r.Qg)((function(e){var t;return{event:"asset_interaction",event_name:"select_asset",asset_interaction:"select_asset",ui_element_location:null!=(t=e.ui_element_location)?t:"thumbnail",asset_id:e.asset_id,asset_type:e.asset_type,asset_family:e.asset_family,istock_collection:e.istock_collection,has_nudity:e.has_nudity}}))},21499:function(e,t,n){"use strict";var r=n(17129);t.Z=(0,r.Qg)((function(e){var t,n;return{event:"cta_interaction",event_name:null!=(t=e.cta_interaction)?t:"cta_clicked",cta_interaction:null!=(n=e.cta_interaction)?n:"cta_clicked",cta_text:e.cta_text,cta_url:e.cta_url,ui_element_location:e.ui_element_location}}))},75328:function(e,t,n){"use strict";var r=n(17129);t.Z=(0,r.Qg)((function(e){var t=e.asset_details,n=e.download_selection,r=void 0===n?null:n,i=e.ui_element_location,o=void 0===i?null:i;return{event:"download_interaction",event_name:"initiate_download",download_interaction:"initiate_download",download_selection:r,asset_id:t.asset_id,asset_type:t.asset_type,asset_family:t.asset_family,asset_category:t.asset_category,asset_size:t.asset_size,ui_element_location:o}}))},51155:function(e,t,n){"use strict";var r=n(17129);t.Z=(0,r.Qg)((function(e){return{event:"error_message_interaction",event_name:"error_message_shown",error_message_interaction:"error_message_shown",error_message_selection:e.error_message_selection,error_message_name:e.error_message_name,ui_element_location:e.ui_element_location}}))},31465:function(e,t,n){"use strict";var r=n(17129);t.Z=(0,r.Qg)((function(e){var t=e.event_name,n=e.member_interaction;return{event:"member_management_interaction",event_name:t,member_interaction:null!=n?n:t,member_selection:e.member_selection,ui_element_location:e.ui_element_location}}))},3871:function(e,t,n){"use strict";var r=n(17129);t.Z=(0,r.Qg)((function(e){var t=e.event_name,n=e.notification_description,r=e.ui_element_location,i=e.item_id;return{event:t,event_name:t,notification_interaction:"view_promotion",notification_description:n,notification_type:"promotion",ui_element_location:r,item_id:i,ecommerce:{creative_name:e.creative_name,promotion_name:n,items:[{item_id:i,item_name:e.item_name,coupon:e.coupon,location_id:r,item_category:e.item_category}]}}}))},97355:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});var r=(0,n(17129).Qg)((function(e){var t=e.event_name;return{event:"search_interaction",event_name:t,search_interaction:t,search_selection:e.search_selection,ui_element_location:e.ui_element_location,search_grid_slot_number:e.search_grid_slot_number}}))},23369:function(e,t,n){"use strict";var r=n(31120),i=n(17129);t.Z=(0,i.Qg)((function(e){var t=e.products,n=e.ui_element_location,i=(0,r.$8)(t);return{event:"select_item",event_name:"select_item",item_id:i.map((function(e){return e.item_id})).join(","),ui_element_location:n,ecommerce:{items:i}}}))},63988:function(e,t,n){"use strict";var r=n(31120),i=n(17129);t.Z=(0,i.Qg)((function(e){var t=e.products,n=e.ui_element_location,i=(0,r.$8)(t);return{event:"view_item",event_name:"view_item",item_id:i.map((function(e){return e.item_id})).join(","),ui_element_location:n,ecommerce:{items:i}}}))},33176:function(e,t,n){"use strict";n.d(t,{xG:function(){return i}});var r={AED:{currencyDisplay:"narrowSymbol"},ARS:{currencyDisplay:"narrowSymbol",locale:"es-AR",customFormat:{currency:"AR$"}},AUD:{currencyDisplay:"narrowSymbol"},BRL:{currencyDisplay:"narrowSymbol"},CAD:{currencyDisplay:"narrowSymbol"},CHF:{currencyDisplay:"narrowSymbol",customFormat:{currency:"Fr."},locale:"de-CH"},CLP:{currencyDisplay:"narrowSymbol",customFormat:{currency:"CH$"},locale:"es-CL"},COP:{currencyDisplay:"narrowSymbol",customFormat:{currency:"COL$"},locale:"es-CO"},DKK:{currencyDisplay:"narrowSymbol",customFormat:{currency:"kr. ",symbolPlacement:"left"},locale:"da"},EUR:{},"EUR-FRA":{currencyDisplay:"narrowSymbol",customFormat:{group:" "}},"EUR-IRL":{currencyDisplay:"narrowSymbol",customFormat:{currency:" €",symbolPlacement:"right"},locale:"en-IE"},GBP:{currencyDisplay:"narrowSymbol"},HKD:{currencyDisplay:"symbol"},INR:{currencyDisplay:"narrowSymbol",locale:"hi-IN"},JPY:{currencyDisplay:"narrowSymbol"},KRW:{currencyDisplay:"narrowSymbol"},MXN:{currencyDisplay:"narrowSymbol",customFormat:{currency:"MX$",symbolPlacement:"left"},locale:"es-MX"},MYR:{currencyDisplay:"narrowSymbol"},NOK:{currencyDisplay:"narrowSymbol"},NZD:{currencyDisplay:"narrowSymbol"},PEN:{customFormat:{group:"."},currencyDisplay:"narrowSymbol",locale:"es-PE"},PHP:{currencyDisplay:"narrowSymbol"},SEK:{currencyDisplay:"narrowSymbol",customFormat:{currency:"kr ",decimal:".",group:",",symbolPlacement:"left"},locale:"sv-SE"},SGD:{currencyDisplay:"narrowSymbol"},THB:{currencyDisplay:"narrowSymbol"},TRY:{currencyDisplay:"narrowSymbol"},USD:{currencyDisplay:"narrowSymbol",locale:"en-us"}},i=function(e,t,n,i){void 0===i&&(i={});var o,a=function(e,t,n){var i=e;"EUR"===e&&"en-gb"===t&&(i="EUR-IRL"),"EUR"===e&&"fr"===t&&(i="EUR-FRA");var o=r[i];return[Object.assign({style:"currency",currency:o?e:"USD",currencyDisplay:null==o?void 0:o.currencyDisplay},n),o||r.USD]}(n,t,i),u=a[0],c=a[1],s=(null==c?void 0:c.locale)||t,l=e;!1===i.includeCents&&(l=Math.ceil(e));try{o=new Intl.NumberFormat(s,Object.assign({},u))}catch(e){if(!((e instanceof RangeError||e instanceof TypeError)&&"narrowSymbol"===u.currencyDisplay))throw e;o=new Intl.NumberFormat(s,Object.assign({},u,{currencyDisplay:"symbol"}))}return null!=c&&c.customFormat?function(e,t,n,r){var i=e.formatToParts(t);n.symbolPlacement&&function(e,t){var n=e.findIndex((function(e){return"currency"===e.type})),r=e[n];e.splice(n,1),"left"===t?e.unshift(r):e.push(r)}(i,n.symbolPlacement);var o=i.map((function(e){var t=r.currencyDisplay&&"currency"===e.type;return n[e.type]&&!t&&(e.value=n[e.type]),e.value})).join("").trim();return o}(o,l,c.customFormat,i):o.format(l)}},23967:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t);var o=function(){function e(){}var t=e.prototype;return t._parseQuery=function(e){for(var t,n={},i="image",o=r(e.toLowerCase().split("&"));!(t=o()).done;){var a=t.value,u=Array.from(a.split("=")),c=u[0],s=u[1];"assettype"===c&&(i=s),this._addItem(n,c,decodeURIComponent(s))}return n.assettype||this._addItem(n,"assettype",i),[n,i]},t._addItem=function(e,t,n){return e[t]||(e[t]={}),e[t][n]=n,!0},t._buildQuery=function(e){var t=this._parseQuery(e),n=t[0],r=t[1],i=["language","contracturl","assettype"],o=[];for(var a in n){var u=n[a];if(!i.contains(a))for(var c in u){var s=u[c];""!==s&&o.push(a+"="+encodeURIComponent(s))}}return[o.join("&"),r]},t.parseQuery=function(e){return this._parseQuery(e)},t.normalizeUrl=function(e){var t=e.split("?"),n=t[0];if(t.length>1){var r=t[1],i=this._buildQuery(r),o=i[0];i[1];return[n+"?"+o,r]}return[n,""]},t.normalizeUrlFromQuery=function(e){var t=this._buildQuery(e),n=t[0],r=t[1];return["/search/2/"+r+"?"+n,r]},e}();t.default=o},90847:function(e,t){"use strict";function n(){n=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),u=new k(r||[]);return i(a,"_invoke",{value:C(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function m(){}var v={};s(v,a,(function(){return this}));var _=Object.getPrototypeOf,g=_&&_(_(M([])));g&&g!==t&&r.call(g,a)&&(v=g);var y=m.prototype=h.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(i,o,a,u){var c=f(e[i],e,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function C(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=E(a,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function M(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=m,i(y,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:p,configurable:!0}),p.displayName=s(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,u,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(y),s(y,c,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=M,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,r,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,c,"next",e)}function c(e){r(a,i,o,u,c,"throw",e)}u(void 0)}))}}var o=new Promise((function(e){"undefined"!=typeof window&&document.addEventListener("CNSClients:ready",(function(t){return e(t.detail.clients)}),{once:!0})})),a=function(){var e=i(n().mark((function e(){var t,r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Promise((function(e,n){t=setTimeout((function(){return n(new Error("CNS Clients timeout"))}),500)})),e.next=3,Promise.race([o,r]);case 3:return i=e.sent,clearTimeout(t),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:if(r=e.sent,i=r.get(t)){e.next=6;break}throw new Error(t+" not found");case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.Z=u},5146:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return o}});var o=function(){function e(){}return e.decodeQueryParams=function(e){var t=new URLSearchParams(e);return Object.fromEntries(t.entries())},e.encodeQueryParams=function(e){for(var t,n=[],i=r(Object.keys(e).sort());!(t=i()).done;){var o=t.value;n.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]))}return n.join("&")},e.appendQueryParamsToString=function(e,t){var n=e.split("?"),r=n[0],i=n[1],o=i||"",a=this.encodeQueryParams(t);return i&&a&&(o=o.concat("&")),(o=o.concat(a))?r.concat("?").concat(o):r},e}()},63786:function(e,t,n){"use strict";n.d(t,{y6:function(){return j},jZ:function(){return ye},xI:function(){return Ee},qR:function(){return ke},OW:function(){return Ie},Rc:function(){return Oe},e6:function(){return je},ML:function(){return _e},vs:function(){return fi},rK:function(){return Lr},x1:function(){return ri},bA:function(){return ht},zt:function(){return he},rY:function(){return Ht},fV:function(){return K},Zo:function(){return X},L$:function(){return U},b5:function(){return fe}});var r=n(84481),i=n.n(r);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e,t){if(0===e.size)return{removed:0,restored:0};for(var n,r=0,i=0,a=o(e);!(n=a()).done;){var u=n.value;t.has(u)?i+=1:r+=1}return{removed:r,restored:i}};function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,f=function(e,t){for(var n,r=new Set(e),i=c(t);!(n=i()).done;){var o=n.value;r.has(o)?r.delete(o):r.add(o)}return r},d=function(){},h=function(){},p=(0,r.createContext)({objects:[],hoveredListItem:null,objectListHovered:!1,maskingCoordinates:new Set,modificationCount:null,removedObjects:new Set,selectedObjects:new Set,addObjectMask:d,removeObjectMask:d,addHoveredListItem:d,removeHoveredListItem:h,modifyObjects:h,toggleObjectListHovered:h,toggleObjectSelected:d,clearMaskingAndHoverData:h,resetAllObjects:h,hasRemovedObjectsChange:function(){return!1},setModificationCount:function(){}}),m=function(e){var t=e.objects,n=e.initialRemovedObjects,o=e.children,a=(0,r.useState)({removed:0,restored:0}),c=a[0],s=a[1],l=(0,r.useState)(!1),d=l[0],h=l[1],m=(0,r.useState)(null),v=m[0],_=m[1],g=(0,r.useState)(new Set(n)),y=g[0],w=g[1],b=(0,r.useState)(new Set),C=b[0],E=b[1],x=(0,r.useState)(new Set),S=x[0],k=x[1],M=(0,r.useCallback)((function(e){S.has(e.coordinates)||(S.add(e.coordinates),k(new Set(S)))}),[S]),I=(0,r.useCallback)((function(e){C.has(e)||S.has(e.coordinates)&&(S.delete(e.coordinates),k(new Set(S)))}),[C,S]),L=(0,r.useCallback)((function(e){_(e)}),[]),O=(0,r.useCallback)((function(){_(null)}),[]),N=(0,r.useCallback)((function(){h(!d)}),[d]),j=(0,r.useCallback)((function(e){C.has(e)?C.delete(e):C.add(e),E(new Set(C))}),[C]),R=(0,r.useCallback)((function(){E(new Set),k(new Set),h(!1),_(null)}),[]),A=(0,r.useCallback)((function(){s(u(C,y)),w(f(C,y)),R()}),[C,y,f,R]),D=(0,r.useCallback)((function(){R(),w(new Set)}),[]),P=(0,r.useCallback)((function(){return f(y,n).size>0}),[y,n]),H=(0,r.useMemo)((function(){return{objects:t,hoveredListItem:v,objectListHovered:d,maskingCoordinates:S,modificationCount:c,removedObjects:y,selectedObjects:C,addObjectMask:M,removeObjectMask:I,addHoveredListItem:L,removeHoveredListItem:O,modifyObjects:A,toggleObjectListHovered:N,toggleObjectSelected:j,clearMaskingAndHoverData:R,resetAllObjects:D,hasRemovedObjectsChange:P,setModificationCount:s}}),[t,v,d,S,c,y,C,M,I,L,O,A,N,j,R,D,P,s]);return i().createElement(p.Provider,{value:H},o)};!function(e){e.RemoveBackground="RemoveBackground",e.RemoveObjects="RemoveObjects"}(l||(l={}));var v,_,g=(0,r.createContext)({activeModificationType:l.RemoveBackground,setActiveModificationType:function(e){}}),y=function(e){var t=e.initialModificationType,n=e.children,o=(0,r.useState)(t),a=o[0],u=o[1],c=(0,r.useMemo)((function(){return{activeModificationType:a,setActiveModificationType:u}}),[a]);return i().createElement(g.Provider,{value:c},n)},w=(0,r.createContext)({showModal:!1,openModal:function(){},closeModal:function(){},modalIsClosing:!1,showDropdown:!1,setShowDropdown:function(){},initialModificationType:l.RemoveBackground,initialBackgroundRemoved:(0,r.createRef)(),initialRemovedObjects:(0,r.createRef)(),showOpenAnimation:(0,r.createRef)()}),b=function(e){var t=e.openWithModificationType,n=e.children,o=(0,r.useState)(!!t),a=o[0],u=o[1],c=(0,r.useState)(!1),s=c[0],l=c[1],f=(0,r.useState)(!1),d=f[0],h=f[1],p=(0,r.useState)(t),m=p[0],v=p[1],_=(0,r.useRef)(!1),g=(0,r.useRef)(new Set),y=(0,r.useRef)(!t);(0,r.useEffect)((function(){document.body.classList.remove("modifications-modal")}),[]);var b=(0,r.useCallback)((function(e){v(e),u(!0)}),[]),C=(0,r.useCallback)((function(e,t){void 0!==e&&(_.current=e),void 0!==t&&(g.current=t),y.current=!0,l(!0),setTimeout((function(){u(!1),l(!1)}),500)}),[]),E=(0,r.useMemo)((function(){return{showModal:a,openModal:b,closeModal:C,modalIsClosing:s,showDropdown:d,setShowDropdown:h,initialModificationType:m,initialBackgroundRemoved:_,initialRemovedObjects:g,showOpenAnimation:y}}),[a,b,C,s,d,h,m,_,g,y]);return i().createElement(w.Provider,{value:E},n)},C=function(){},E=(0,r.createContext)({backgroundRemoved:!1,setBackgroundRemoved:C,hasBackgroundChange:function(){return!1}}),x=function(e){var t=e.initialBackgroundRemoved,n=e.children,o=(0,r.useState)(t),a=o[0],u=o[1],c=(0,r.useCallback)((function(){return a!==t}),[a,t]),s=(0,r.useMemo)((function(){return{backgroundRemoved:a,setBackgroundRemoved:u,hasBackgroundChange:c}}),[a,u,c]);return i().createElement(E.Provider,{value:s},n)},S=function(){},k=(0,r.createContext)({showBackgroundError:!1,setShowBackgroundError:S,showObjectError:!1,setShowObjectError:S,showNotification:!1,setShowNotification:S,resetToOriginal:!1,setResetToOriginal:S}),M=function(e){var t=e.children,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useState)(!1),c=u[0],s=u[1],l=(0,r.useState)(!1),f=l[0],d=l[1],h=(0,r.useState)(!1),p=h[0],m=h[1],v=(0,r.useMemo)((function(){return{resetToOriginal:p,setResetToOriginal:m,showBackgroundError:o,setShowBackgroundError:a,showObjectError:c,setShowObjectError:s,showNotification:f,setShowNotification:d}}),[p,m,o,a,c,s,f,d]);return i().createElement(k.Provider,{value:v},t)},I=function(){},L=(0,r.createContext)({showFeedbackModal:!1,toggleFeedbackModal:I,showFeedbackBanner:!0,toggleFeedbackBanner:I}),O=function(e){var t=e.children,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useState)(!0),c=u[0],s=u[1],l=(0,r.useCallback)((function(){a(!o)}),[o]),f=(0,r.useCallback)((function(){s(!c)}),[c]),d=(0,r.useMemo)((function(){return{showFeedbackModal:o,toggleFeedbackModal:l,showFeedbackBanner:c,toggleFeedbackBanner:f}}),[o,l,c,f]);return i().createElement(L.Provider,{value:d},t)},N=(0,r.createContext)({activeModifications:[],setActiveModifications:function(){}}),j=function(e){var t=e.children,n=(0,r.useState)([]),o=n[0],a=n[1],u=(0,r.useMemo)((function(){return{activeModifications:o,setActiveModifications:a}}),[o,a]);return i().createElement(N.Provider,{value:u},t)},R=n(24735),A=n(52965),D=n.n(A),P="/components/asset-mod/api",H=function(e){var t=e.assetId;return D().get(P+"/modifications/"+t)},T=function(e){var t=e.assetId,n=e.visualId;return D().patch(P+"/modifications/reset/"+t+"/"+n)},z=function(e){var t=e.assetId,n=e.visualId,r=e.largeMainImageURL;return D().patch(P+"/modifications/record-restoration/"+t+"/"+n,{largeMainImageURL:r})},Z=n(82056),V=function(e,t){void 0===t&&(t={}),(0,Z.r$)(e,t)},B=function(e,t){void 0===t&&(t={}),V(e,t)},q=n(6905),F=function(e){var t=e?"Restore":"Remove";!function(e){var t=e?"restored":"removed";window&&window.tracking_data&&(window.tracking_data.page_mode=window.tracking_data.page_mode?window.tracking_data.page_mode+"|adp_background_"+t:"adp_background_"+t)}(e),(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"image_ADP_"+t+"_Background_Button_Click",adp_selection:"ADP_"+t+"_Background",ui_element_location:"image_adp_tools_panel_top"}})},U=function(){var e=(0,r.useContext)(de);return{previewImage:e.previewImage,setPreviewImage:e.setPreviewImage,loading:e.loading}},K=function(e){var t=(0,R.aF)().modificationsPermitted;return e.isImage&&!e.isIllustration&&!e.isVector&&t},W=function(){return(0,r.useContext)(p)},G=function(){return(0,r.useContext)(g)},J=function(){return(0,r.useContext)(w)},Y=function(){return(0,r.useContext)(E)},Q=function(){return(0,r.useContext)(k)},X=function(){return(0,r.useContext)(L)},$=function(){var e=Y().hasBackgroundChange,t=W().hasRemovedObjectsChange;return e()||t()},ee=n(38130),te=function(){var e=G().activeModificationType,t=Y().backgroundRemoved,n=W().modificationCount,r=void 0===n?{removed:0,restored:0}:n,i=(0,ee.T)(),o=r.removed,a=r.restored;return e===l.RemoveBackground?i(t?"background_removed":"background_restored"):1===o&&0===a?i("one_object_removed",{count:o}):o>1&&0===a?i("n_objects_removed",{count:o}):0===o&&1===a?i("one_object_restored",{count:a}):0===o&&a>1?i("n_objects_restored",{count:a}):1===o&&1===a?i("one_object_removed_one_object_restored",{removedCount:o,restoredCount:a}):o>=1&&a>=1?i("n_objects_removed_n_objects_restored",{removedCount:o,restoredCount:a}):null},ne=function(){return(0,r.useContext)(N)},re=["happy","calm","surprised","angry","fear","contempt","disgusted","sad"];!function(e){e.Person="person",e.Background="background",e.Object="object"}(v||(v={})),function(e){e.High="high"}(_||(_={}));var ie=function(e){var t,n,r,i=e.type===v.Background,o=(null==(t=e.actions)||null==(n=t.remove)?void 0:n.includes(!0))&&!0===(null==(r=e.oracle)?void 0:r.remove);return i&&o||null},oe=function(e){var t=e.permitted,n=e.actionsObjectArray;return t&&n.map((function(e){return ie(e)?{id:e.id,type:v.Background,labels:e.labels,modifications:["remove"]}:{}})).filter((function(e){return!!e.id}))||[]},ae=function(e){var t=e.permitted,n=e.actionsObjectArray;return t&&n.map((function(e){var t=function(e){var t,n,r=e.type!==v.Person,i=void 0===(null==(t=e.actions)?void 0:t.expression)||void 0===(null==(n=e.oracle)?void 0:n.expression);if(r||i)return null;var o=e.actions.expression,a=o?o.filter((function(t){return re.includes(t)&&e.oracle.expression[t]===_.High})):[];return a.length>0?a:null}(e);return t?{id:e.id,type:v.Person,labels:e.labels,modifications:t}:{}})).filter((function(e){return!!e.id}))||[]},ue=function(e){var t=e.permitted,n=e.width,r=e.height,i=e.actionsObjectArray;if(!t)return[];var o=i.map((function(e){var t,i,o,a,u=function(e){var t,n,r,i,o=null==e||null==(t=e.labels)?void 0:t.includes(v.Object),a=(null==(n=e.actions)||null==(r=n.remove)?void 0:r.includes(!0))&&(null==(i=e.oracle)?void 0:i.remove),u=e.type;return o&&a?u:null}(e);return u?{id:e.id,type:v.Object,labels:e.labels,modifications:u,coordinates:{x:(null==(t=e.rect)?void 0:t.x)/n*100,y:(null==(i=e.rect)?void 0:i.y)/r*100,h:(null==(o=e.rect)?void 0:o.h)/r*100,w:(null==(a=e.rect)?void 0:a.w)/n*100}}:{}})).filter((function(e){return!!e.id}))||[];return o.sort((function(e,t){return e.modifications.localeCompare(t.modifications)})),o},ce=function(e){var t,n=e.assetInfo,r=e.permissions;if(!((null==(t=n.scene)?void 0:t.length)>0))return null;var i=r.backgroundModificationsPermitted,o=r.expressionModificationsPermitted,a=r.objectModificationsPermitted,u={background:oe({permitted:i,actionsObjectArray:n.scene}),expressions:ae({permitted:o,actionsObjectArray:n.scene}),objects:ue({permitted:a,width:n.org_width,height:n.org_height,actionsObjectArray:n.scene})},c=function(e){var t=null;return e.background.length>0&&(t=v.Background),e.expressions.length>0&&(t=v.Person),e.objects.length>0&&(t=v.Object),t}(u);return c?{availableModifications:u,assetCanBeModified:!0,modificationType:c}:{availableModifications:null,assetCanBeModified:!1,modificationType:null}};function se(){se=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),u=new S(i||[]);return r(a,"_invoke",{value:b(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function d(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,_=v&&v(v(k([])));_&&_!==t&&n.call(_,o)&&(m=_);var g=p.prototype=d.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,u){var c=l(e[r],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,u)}),(function(e){i("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return i("throw",e,a,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function b(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=C(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),c(g,u,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function le(e,t,n,r,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,i)}var fe=function(e){var t=e.asset,n=(0,r.useContext)(de),i=K(t),o=(0,R._P)("BriaObjectModification"),a=((0,R._P)("BriaBackgroundModification"),n.visualId),u=n.setVisualId,c=n.loading,s=n.setLoading,l=n.modifiedImage,f=n.showEditor,d=n.setShowEditor,h=n.showErrorMessage,p=n.setShowErrorMessage,m=n.assetCanBeModified,v=n.setAssetCanBeModified,_=n.modificationType,g=n.setModificationType,y=n.availableModifications,w=n.setAvailableModifications,b=function(){var e,n=(e=se().mark((function e(){var n,r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({assetId:t.assetId});case 3:null!=(i=e.sent)&&null!=(n=i.data)&&n.visualId&&null!=i&&null!=(r=i.data)&&r.assetInfo&&(u(i.data.visualId),a=ce({assetInfo:i.data.assetInfo,permissions:{backgroundModificationsPermitted:!0,expressionModificationsPermitted:!1,objectModificationsPermitted:o.isActive()}}),v(a.assetCanBeModified),g(a.modificationType),w(a.availableModifications)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),B(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){le(o,r,i,a,u,"next",e)}function u(e){le(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.useEffect)((function(){i&&b()}),[i]),{handleDismissal:function(){p(!h)},handleRemoveBackground:function(){F(f),d(!f),s(!0)},handleModifyAsset:function(){(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"image_ADP_Modify_with_Ai_Button_Click",adp_selection:"ADP_Modify_with_Ai",ui_element_location:"ADP_Image_tools_panel_top"}},null)},visualId:a,loading:c,modifiedImage:l,showEditor:f,showErrorMessage:h,assetCanBeModified:m,modificationType:_,availableModifications:y}},de=i().createContext({}),he=function(e){var t=e.openModificationsModalWithModificationType,n=e.children,o=(0,r.useState)(null),a=o[0],u=o[1],c=(0,r.useState)(!1),s=c[0],l=c[1],f=(0,r.useState)(null),d=f[0],h=f[1],p=(0,r.useState)(!1),m=p[0],v=p[1],_=(0,r.useState)(!1),g=_[0],y=_[1],w=(0,r.useState)(!1),C=w[0],E=w[1],x=(0,r.useState)(null),S=x[0],k=x[1],M=(0,r.useState)(null),I=M[0],L=M[1],N=(0,r.useState)(null),j=N[0],R=N[1],A=(0,r.useState)(null),D=A[0],P=A[1],H=(0,r.useMemo)((function(){return{visualId:a,setVisualId:u,loading:s,setLoading:l,modifiedImage:d,setModifiedImage:h,showEditor:m,setShowEditor:v,showErrorMessage:g,setShowErrorMessage:y,assetCanBeModified:C,setAssetCanBeModified:E,modificationType:S,setModificationType:k,availableModifications:I,setAvailableModifications:L,previewImage:j,setPreviewImage:R,editorSrc:D,setEditorSrc:P}}),[a,u,s,l,d,h,m,v,g,y,C,E,S,k,I,L,j,R,D,P]);return i().createElement(de.Provider,{value:H},i().createElement(O,null,i().createElement(b,{openWithModificationType:t},n)))},pe="iXJVRHzPyx2QOCDOb8rp",me="JqIPrzUQ_LORCuzDbDZo",ve=function(e){var t=e.visualId,n=e.aspectRatio,o=e.assetId,a=(0,r.useContext)(de),u=U().setPreviewImage,c=(0,r.useRef)(),s=(0,R._P)("BriaBackgroundModification"),l=(0,R._P)("BriaObjectModification"),f=a.loading,d=a.setShowEditor,h=a.setLoading,p=a.setShowErrorMessage,m=a.editorSrc,v=s.isActive()||l.isActive()?m:"/components/asset-mod/api/modifications/remove_bg/"+t+"/watermarked/image.png?assetId="+o;return i().createElement("div",{className:pe,"data-testid":"editor-image",style:{aspectRatio:n}},f&&i().createElement("div",{className:me},i().createElement(ci,null)),i().createElement("img",{src:v,ref:c,onLoad:function(){u(c.current),h(!1)},onError:function(){return h(!1),d(!1),void p(!0)}}))},_e=(0,r.memo)(ve),ge="JGRqDf2O2ZDV68rTCQqy",ye=function(e){var t=e.Icon,n=e.text,o=e.handleClick;return(0,r.useEffect)((function(){(0,q.j)({name:"buttonShown",payload:{banner_name:"ADP_remove_background_button",ui_element_location:"image_adp_tools_panel_top"}})}),[]),i().createElement("button",{className:ge,"data-testid":"background-removal-button",onClick:function(){return o()},type:"button"},t&&i().createElement(t,null),n)},we=function(){return i().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M7.02004 10.3938L4.6665 8.04025L5.37354 7.33325L7.02004 8.97972L10.6665 5.33325L11.3735 6.04029L7.02004 10.3938Z",fill:"#02A388"}))},be="WWnAS1lnsjzvv4YlzNJV",Ce="pRzWkpwzgf1W1JZVjh4I",Ee=function(e){var t=e.downloadCompletionText,n=e.firstListItemText,r=e.secondListItemText,o=e.checkDownloadsText,a=e.redownloadText;return i().createElement("section",{className:be,"data-testid":"background-removal-confirmation"},i().createElement("p",null,t),i().createElement("ul",null,i().createElement("li",null,i().createElement(we,null),n),i().createElement("li",null,i().createElement(we,null),r)),i().createElement("p",{className:Ce},o),i().createElement("span",{id:"download-again"},a))},xe="ksrNsF_aTuAyen04bBvS",Se="uVzc4tRd4oK4kghMEJbf",ke=function(e){var t=e.title,n=e.firstListItemText,r=e.secondListItemText,o=e.allowMultipleFileText;return i().createElement("div",{className:xe,"data-testid":"background-removal-details"},i().createElement("p",null,t),i().createElement("ul",null,i().createElement("li",null,i().createElement(we,null),n),i().createElement("li",null,i().createElement(we,null),r)),i().createElement("p",{className:Se},o))},Me="z2czGROp1pDEf3tJ9YhN",Ie=function(e){var t=e.text,n=e.Icon,o=e.handleDismissal;return(0,r.useEffect)((function(){(0,q.j)({name:"bannerShown",payload:{banner_name:"ADP_remove_background_error_banner",ui_element_location:"image_adp_tools_panel_top"}})}),[]),i().createElement("div",{className:Me,"data-testid":"background-removal-error"},i().createElement("p",null,t),i().createElement("button",{type:"button",onClick:o},n&&i().createElement(n,null),i().createElement("span",null,"Close")))};function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}var Oe=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Le(t,n),r.getDerivedStateFromError=function(){return{hasError:!0}};var i=r.prototype;return i.componentDidCatch=function(e,t){B(e,t)},i.render=function(){var e=this.state.hasError,t=this.props.children;return e?null:t},r}(r.Component),Ne="Cze3zkzonVZx6ZeAK3Qj",je=function(e){var t=e.title;return i().createElement("div",{className:Ne,"data-testid":"background-removal-header"},i().createElement("h2",null,t))},Re=function(e){var t=e.mainPath,n=e.expandedPath,r=e.animateId,o=e.animationDelay;return i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:t,fill:"white",stroke:"transparent"},i().createElement("animate",{attributeName:"d",values:t+";"+n+";"+t,dur:"1s",id:r,begin:o+"s;"+r+".end+1s"}))},Ae=function(){return i().createElement(Re,{mainPath:"M29.1891 54.5041C29.1891 53.775 28.5975 53.1865 27.8729 53.1865C27.1482 53.1865 26.5566 53.7787 26.5566 54.5041V56.2621C26.5566 56.9912 27.1482 57.5796 27.8729 57.5796C28.5975 57.5796 29.1891 56.9875 29.1891 56.2621V54.5041ZM30.0691 59.7742C30.0691 59.0488 30.657 58.4567 31.3853 58.4567H33.1415C33.8662 58.4567 34.4577 59.0488 34.4577 59.7742C34.4577 60.4996 33.8699 61.0918 33.1415 61.0918H31.3853C30.6607 61.0918 30.0691 60.4996 30.0691 59.7742ZM26.5566 63.2903C26.5566 62.5649 27.1445 61.9728 27.8729 61.9728C28.5975 61.9728 29.1891 62.5612 29.1891 63.2903V65.0483C29.1891 65.7737 28.5975 66.3659 27.8729 66.3659C27.1482 66.3659 26.5566 65.7774 26.5566 65.0483V63.2903ZM25.6767 59.7781C25.6767 60.5035 25.0889 61.0957 24.3605 61.0957H22.6043C21.8796 61.0957 21.2881 60.5035 21.2881 59.7781C21.2881 59.0527 21.876 58.4606 22.6043 58.4606H24.3605C25.0852 58.4606 25.6767 59.0527 25.6767 59.7781Z",expandedPath:"M29.9788 51.3405C29.9788 50.174 29.0323 49.2324 27.8728 49.2324C26.7134 49.2324 25.7669 50.1799 25.7669 51.3405V54.1533C25.7669 55.3198 26.7134 56.2614 27.8728 56.2614C29.0323 56.2614 29.9788 55.3139 29.9788 54.1533V51.3405ZM31.3868 59.7727C31.3868 58.6121 32.3274 57.6646 33.4928 57.6646H36.3027C37.4621 57.6646 38.4086 58.6121 38.4086 59.7727C38.4086 60.9333 37.4681 61.8808 36.3027 61.8808H33.4928C32.3333 61.8808 31.3868 60.9333 31.3868 59.7727ZM25.7669 65.3985C25.7669 64.2379 26.7074 63.2904 27.8728 63.2904C29.0323 63.2904 29.9788 64.2319 29.9788 65.3985V68.2112C29.9788 69.3719 29.0323 70.3193 27.8728 70.3193C26.7134 70.3193 25.7669 69.3778 25.7669 68.2112V65.3985ZM24.359 59.779C24.359 60.9396 23.4184 61.8871 22.253 61.8871H19.4431C18.2837 61.8871 17.3372 60.9396 17.3372 59.779C17.3372 58.6183 18.2777 57.6709 19.4431 57.6709H22.253C23.4125 57.6709 24.359 58.6183 24.359 59.779Z",animateId:"leftSparkle",animationDelay:0})},De=function(){return i().createElement(Re,{mainPath:"M58.2832 13.2836C58.2832 18.8573 62.8123 23.3911 68.3804 23.3911C69.1051 23.3911 69.6966 23.9832 69.6966 24.7086C69.6966 25.434 69.1088 26.0262 68.3804 26.0262C62.8123 26.0262 58.2832 30.5599 58.2832 36.1336C58.2832 36.859 57.6916 37.4512 56.967 37.4512C56.2423 37.4512 55.6507 36.8627 55.6507 36.1336C55.6507 30.5599 51.1216 26.0262 45.5535 26.0262C44.8289 26.0262 44.2373 25.434 44.2373 24.7086C44.2373 23.9832 44.8252 23.3911 45.5535 23.3911C51.1216 23.3911 55.6507 18.8573 55.6507 13.2836C55.6507 12.5582 56.2423 11.9661 56.967 11.9661C57.6916 11.9661 58.2832 12.5545 58.2832 13.2836Z",expandedPath:"M58.9413 7.57106C58.9413 15.9316 65.735 22.7322 74.0871 22.7322C75.1741 22.7322 76.0615 23.6205 76.0615 24.7086C76.0615 25.7967 75.1797 26.6849 74.0871 26.6849C65.735 26.6849 58.9413 33.4855 58.9413 41.8461C58.9413 42.9342 58.0539 43.8224 56.9669 43.8224C55.88 43.8224 54.9926 42.9397 54.9926 41.8461C54.9926 33.4855 48.1989 26.6849 39.8468 26.6849C38.7598 26.6849 37.8724 25.7967 37.8724 24.7086C37.8724 23.6205 38.7542 22.7322 39.8468 22.7322C48.1989 22.7322 54.9926 15.9316 54.9926 7.57106C54.9926 6.48297 55.88 5.59473 56.9669 5.59473C58.0539 5.59473 58.9413 6.47742 58.9413 7.57106Z",animateId:"topSparkle",animationDelay:.5})},Pe=function(){return i().createElement(Re,{mainPath:"M101.513 43.515C101.513 46.5596 103.987 49.033 107.026 49.033C107.561 49.033 107.998 49.4702 107.998 50.0059C107.998 50.5416 107.564 50.9789 107.026 50.9789C103.987 50.9789 101.513 53.455 101.513 56.4969C101.513 57.0326 101.076 57.4699 100.541 57.4699C100.006 57.4699 99.5692 57.0353 99.5692 56.4969C99.5692 53.4523 97.0956 50.9789 94.0568 50.9789C93.5217 50.9789 93.0848 50.5416 93.0848 50.0059C93.0848 49.4702 93.519 49.033 94.0568 49.033C97.0956 49.033 99.5692 46.5568 99.5692 43.515C99.5692 42.9793 100.006 42.542 100.541 42.542C101.076 42.542 101.513 42.9765 101.513 43.515Z",expandedPath:"M101.999 40.2695C101.999 44.8364 105.71 48.5465 110.268 48.5465C111.071 48.5465 111.726 49.2024 111.726 50.0059C111.726 50.8095 111.075 51.4654 110.268 51.4654C105.71 51.4654 101.999 55.1796 101.999 59.7424C101.999 60.5459 101.344 61.2018 100.541 61.2018C99.7385 61.2018 99.0833 60.55 99.0833 59.7424C99.0833 55.1755 95.3728 51.4654 90.8147 51.4654C90.012 51.4654 89.3567 50.8095 89.3567 50.0059C89.3567 49.2024 90.0079 48.5465 90.8147 48.5465C95.3728 48.5465 99.0833 44.8323 99.0833 40.2695C99.0833 39.466 99.7385 38.8101 100.541 38.8101C101.344 38.8101 101.999 39.4619 101.999 40.2695Z",animateId:"rightSparkle",animationDelay:1})},He=function(){return i().createElement(Re,{mainPath:"M88.566 75.7922C88.566 79.9151 91.9157 83.2645 96.0308 83.2645C96.7554 83.2645 97.347 83.8567 97.347 84.5821C97.347 85.3075 96.7591 85.8996 96.0308 85.8996C91.9157 85.8996 88.566 89.2527 88.566 93.3719C88.566 94.0973 87.9745 94.6895 87.2498 94.6895C86.5251 94.6895 85.9336 94.101 85.9336 93.3719C85.9336 89.249 82.5839 85.8996 78.4688 85.8996C77.7441 85.8996 77.1526 85.3075 77.1526 84.5821C77.1526 83.8567 77.7405 83.2645 78.4688 83.2645C82.5839 83.2645 85.9336 79.9114 85.9336 75.7922C85.9336 75.0668 86.5251 74.4746 87.2498 74.4746C87.9745 74.4746 88.566 75.0631 88.566 75.7922Z",expandedPath:"M89.2242 71.3972C89.2242 77.5816 94.2488 82.6057 100.421 82.6057C101.508 82.6057 102.396 83.4939 102.396 84.582C102.396 85.6701 101.514 86.5584 100.421 86.5584C94.2488 86.5584 89.2242 91.588 89.2242 97.7668C89.2242 98.8549 88.3368 99.7432 87.2498 99.7432C86.1628 99.7432 85.2755 98.8605 85.2755 97.7668C85.2755 91.5825 80.2509 86.5584 74.0783 86.5584C72.9913 86.5584 72.104 85.6701 72.104 84.582C72.104 83.4939 72.9858 82.6057 74.0783 82.6057C80.2509 82.6057 85.2755 77.576 85.2755 71.3972C85.2755 70.3091 86.1628 69.4209 87.2498 69.4209C88.3368 69.4209 89.2242 70.3036 89.2242 71.3972Z",animateId:"bottomSparkle",animationDelay:1.5})},Te="fNVYCz_ydinRzgAZJILR",ze=function(){return i().createElement("svg",{viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Te},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M68.6362 44.8315C69.7809 43.6776 71.6335 43.6776 72.7782 44.8315L78.6689 50.7698C79.8181 51.9281 79.8181 53.8096 78.6689 54.968L68.5132 65.2056L58.4288 55.1212L68.6362 44.8315ZM26.2831 87.526L54.6806 58.8995L64.7651 68.9839L36.3159 97.6624C35.1712 98.8163 33.3186 98.8163 32.1739 97.6624L26.2831 91.7242C25.134 90.5658 25.134 88.6844 26.2831 87.526Z",fill:"white"}),i().createElement(Ae,null),i().createElement(De,null),i().createElement(Pe,null),i().createElement(He,null))},Ze=function(e){var t=e.className;return i().createElement("svg",{className:t,viewBox:"0 0 22 19",xmlns:"http://www.w3.org/2000/svg","data-testid":"scissors"},i().createElement("path",{d:"M6.82464 18.2126C8.57514 17.2071 9.2387 15.0892 8.48035 13.2856H8.48667C8.00007 12.2236 8.93536 11.5449 10.1361 11.9659C13.2958 13.8072 17.3719 16.1764 17.3783 16.1702C18.7749 16.698 20.3863 16.1702 21.1573 14.8441L12.449 9.84807L21.1573 4.84571C20.3863 3.51342 18.7685 2.98553 17.3783 3.5197C17.3783 3.51342 13.2958 5.88263 10.1361 7.72395C8.93536 8.145 8.00007 7.46629 8.48667 6.39795H8.47403C9.23238 4.60062 8.56251 2.4765 6.81832 1.471C4.92878 0.3838 2.50208 1.03109 1.4088 2.9164C0.315519 4.80172 0.960111 7.20863 2.86229 8.30211C3.44369 8.63519 4.07564 8.78601 4.70127 8.81115C6.35067 8.84257 6.50234 9.84179 6.50234 9.84179C6.50234 9.84179 6.35067 10.8599 4.66968 10.8724C4.05036 10.8976 3.43105 11.0484 2.86229 11.3815C0.966431 12.4687 0.315519 14.8819 1.4088 16.7672C2.50208 18.6525 4.92878 19.2998 6.82464 18.2126ZM3.8355 6.6179C2.87493 6.06488 2.54631 4.84571 3.09611 3.89048C3.65223 2.93526 4.88454 2.60847 5.84511 3.15521C6.80568 3.70823 7.13429 4.93369 6.57817 5.88891C6.02205 6.84414 4.79607 7.17093 3.8355 6.6179ZM8.30972 9.84179C8.30972 9.38303 8.68258 9.01225 9.1439 9.01225C9.60523 9.01225 9.97808 9.38303 9.97808 9.84179C9.97808 10.3005 9.60523 10.6713 9.1439 10.6713C8.68258 10.6713 8.30972 10.3005 8.30972 9.84179ZM3.10243 15.7994C2.54631 14.8441 2.88125 13.625 3.84182 13.0657C4.8087 12.5126 6.03469 12.8394 6.59081 13.8009C7.14693 14.7562 6.81832 15.9816 5.85775 16.5346C4.89718 17.0814 3.66487 16.7546 3.10875 15.7994H3.10243Z"}))},Ve=function(e){var t=e.className;return i().createElement("svg",{className:t,viewBox:"0 0 20 18",xmlns:"http://www.w3.org/2000/svg","data-testid":"eraser"},i().createElement("path",{d:"M20.0002 6.68341C19.9942 6.26876 19.821 5.88002 19.5105 5.58919L14.0133 0.44057C13.7087 0.155495 13.3116 0 12.8876 0C12.4636 0 12.0366 0.167013 11.729 0.472244L0.457013 11.6679C0.15543 11.9674 -0.00581182 12.359 0.000160116 12.7765C0.00613205 13.1912 0.179318 13.5799 0.489859 13.8707L4.68215 17.7956C4.82249 17.928 5.0136 18.0029 5.20768 18.0029H16.1094C16.5275 18.0029 16.8649 17.6775 16.8649 17.2744C16.8649 16.8712 16.5275 16.5458 16.1094 16.5458H10.7317L19.5463 7.79203C19.8449 7.49256 20.0091 7.10094 20.0031 6.68629L20.0002 6.68341ZM5.52718 16.543H5.51524L1.5439 12.8226C1.523 12.8053 1.51405 12.7823 1.51405 12.7535C1.51405 12.7362 1.52002 12.7074 1.5439 12.6844L5.70037 8.55799L11.3438 13.8419L8.62662 16.543H5.53315H5.52718Z"}))},Be=function(){return i().createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M0.5 2.0502L2.1 0.450195L6 4.3502L9.9 0.450195L11.5 2.0502L6 7.5502L0.5 2.0502Z",fill:"#0C0D0D"}))},qe=function(e){var t=e.fillColor,n=void 0===t?"white":t;return i().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M15.9904 14.8238L14.8334 16L7.99997 9.15705L1.16658 15.9904L0.00952148 14.8334L6.84292 8.01912L0.00952487 1.17617L1.16657 0L8.01909 6.84294L14.8429 0.00956077L15.9808 1.16661L9.17614 8L15.9904 14.8238Z",fill:n}))},Fe=n(94184),Ue=n.n(Fe),Ke="kxji19C5sswW5Cb67jEj",We="h9xIbAyZdx89nk4RWtP4",Ge="sr1v8LBa1oxLHLbCB7t4",Je=function(e){var t=e.flip;return i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Ue()(Ke,t&&Ge),"data-testid":"landscape"},i().createElement("path",{d:"M16.8 0.495117H2.21C0.99 0.495117 0 1.48512 0 2.71512V17.2951C0 18.5151 0.99 19.5151 2.21 19.5151H16.79C18.01 19.5151 19.01 18.5251 19.01 17.2951V2.71512C19.01 1.49512 18.02 0.495117 16.79 0.495117H16.8ZM16.79 2.49512C16.91 2.49512 17.01 2.59512 17.01 2.71512V10.6051L14.27 7.86512C13.55 7.14512 12.37 7.14512 11.65 7.86512L6.86 12.6551L5.28 11.0851C4.57 10.3751 3.43 10.3551 2.7 11.0551L1.99 11.7351V2.71512C1.99 2.59512 2.09 2.49512 2.2 2.49512H16.79ZM2.21 17.5051C2.09 17.5051 2 17.4051 2 17.2851V14.4751L3.99 12.5851L5.57 14.1651C6.29 14.8851 7.46 14.8851 8.19 14.1651L12.98 9.37512L17.02 13.4151V17.2851C17.02 17.4051 16.92 17.5051 16.8 17.5051H2.21Z",fill:"#231F20"}),i().createElement("path",{d:"M6.88998 8.68523C7.94998 8.68523 8.79998 7.82523 8.79998 6.77523C8.79998 5.72523 7.93998 4.86523 6.88998 4.86523C5.83998 4.86523 4.97998 5.72523 4.97998 6.77523C4.97998 7.82523 5.83998 8.68523 6.88998 8.68523Z",fill:"#231F20"}),i().createElement("path",{d:"M4 12L1.5 14.5V18H17.5V13.5L13 9L7 14L4 12Z",fill:"#231F20",className:We}))},Ye=function(){return i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M10 20C4.5 20 0 15.5 0 10C0 4.5 4.5 0 10 0C15.5 0 20 4.5 20 10C20 15.5 15.5 20 10 20Z",fill:"#FFD900"}),i().createElement("path",{d:"M10 12.4001C10.8 12.4001 11.5 13.1001 11.5 13.9001C11.5 14.7001 10.8 15.4001 10 15.4001C9.2 15.4001 8.5 14.7001 8.5 13.9001C8.5 13.1001 9.2 12.4001 10 12.4001ZM10.6 11.2001H9.4L8.7 7.0001V4.8001C8.7 4.7001 8.8 4.6001 8.9 4.6001H11C11.1 4.6001 11.2 4.7001 11.2 4.8001V7.0001L10.6 11.2001Z",fill:"#080808"}))},Qe=function(e){var t=e.className;return i().createElement("svg",{className:t,"data-testid":"reset-icon",width:"21",height:"17",viewBox:"0 0 21 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M12.4722 13.9874C9.47725 15.0903 6.15992 13.5249 5.07563 10.4949H5.09908L7.801 9.49281L4.78258 7.66651L2.40888 6.23156L2.15099 6.07739L0 12.3627L2.60815 11.4021C4.19648 15.8078 9.01423 18.0847 13.3748 16.4778C14.928 15.9026 16.2116 14.9124 17.1493 13.6791L14.5822 12.6295C14.002 13.2166 13.2928 13.685 12.4722 13.9874Z",fill:"#0C0D0D"}),i().createElement("path",{d:"M7.62508 0.515374C6.07191 1.08461 4.78835 2.07484 3.85059 3.30819L6.41771 4.36958C6.99795 3.78255 7.70713 3.31412 8.52767 3.01171C11.5226 1.90882 14.8341 3.47422 15.9243 6.50421H15.9008L13.1989 7.5063L16.2173 9.3326L18.591 10.7676L18.8489 10.9217L20.9999 4.63048L18.3918 5.59106C16.8034 1.18541 11.9857 -1.09153 7.62508 0.515374Z",fill:"#0C0D0D"}))},Xe=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8909 8.52982C14.1712 8.24722 14.6249 8.24722 14.9052 8.52982L16.3479 9.98408C16.6293 10.2678 16.6293 10.7285 16.3479 11.0122L13.8607 13.5194L11.3911 11.0497L13.8909 8.52982ZM3.51868 18.9856L10.4732 11.975L12.9428 14.4447L5.97568 21.468C5.69535 21.7506 5.24165 21.7506 4.96132 21.468L3.51868 20.0137C3.23726 19.73 3.23726 19.2693 3.51868 18.9856Z",fill:"#0D0D0D"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8117 14.1586C16.8117 15.1683 17.6321 15.9886 18.6398 15.9886C18.8173 15.9886 18.9622 16.1336 18.9622 16.3112C18.9622 16.4889 18.8182 16.6339 18.6398 16.6339C17.6321 16.6339 16.8117 17.4551 16.8117 18.4639C16.8117 18.6415 16.6669 18.7865 16.4894 18.7865C16.3119 18.7865 16.167 18.6424 16.167 18.4639C16.167 17.4542 15.3467 16.6339 14.3389 16.6339C14.1615 16.6339 14.0166 16.4889 14.0166 16.3112C14.0166 16.1336 14.1606 15.9886 14.3389 15.9886C15.3467 15.9886 16.167 15.1674 16.167 14.1586C16.167 13.981 16.3119 13.8359 16.4894 13.8359C16.6669 13.8359 16.8117 13.98 16.8117 14.1586Z",fill:"#0D0D0D"}),i().createElement("path",{d:"M18.6398 15.7852C17.7445 15.7852 17.0151 15.0561 17.0151 14.1586H16.6083C16.6083 15.2805 17.5196 16.192 18.6398 16.192V15.7852ZM19.1656 16.3112C19.1656 16.0214 18.9298 15.7852 18.6398 15.7852V16.192C18.7048 16.192 18.7588 16.2457 18.7588 16.3112H19.1656ZM18.6398 16.8373C18.9311 16.8373 19.1656 16.6006 19.1656 16.3112H18.7588C18.7588 16.3771 18.7053 16.4305 18.6398 16.4305V16.8373ZM17.0151 18.4639C17.0151 17.5672 17.7446 16.8373 18.6398 16.8373V16.4305C17.5195 16.4305 16.6083 17.3429 16.6083 18.4639H17.0151ZM16.4894 18.9899C16.7794 18.9899 17.0151 18.7536 17.0151 18.4639H16.6083C16.6083 18.5294 16.5543 18.5831 16.4894 18.5831V18.9899ZM15.9637 18.4639C15.9637 18.7549 16.1998 18.9899 16.4894 18.9899V18.5831C16.4241 18.5831 16.3704 18.5299 16.3704 18.4639H15.9637ZM14.3389 16.8373C15.2343 16.8373 15.9637 17.5664 15.9637 18.4639H16.3704C16.3704 17.342 15.4592 16.4305 14.3389 16.4305V16.8373ZM13.8132 16.3112C13.8132 16.601 14.0489 16.8373 14.3389 16.8373V16.4305C14.274 16.4305 14.22 16.3767 14.22 16.3112H13.8132ZM14.3389 15.7852C14.0477 15.7852 13.8132 16.0218 13.8132 16.3112H14.22C14.22 16.2453 14.2735 16.192 14.3389 16.192V15.7852ZM15.9637 14.1586C15.9637 15.0553 15.2342 15.7852 14.3389 15.7852V16.192C15.4592 16.192 16.3704 15.2795 16.3704 14.1586H15.9637ZM16.4894 13.6325C16.1994 13.6325 15.9637 13.8688 15.9637 14.1586H16.3704C16.3704 14.0931 16.4244 14.0393 16.4894 14.0393V13.6325ZM17.0151 14.1586C17.0151 13.8675 16.779 13.6325 16.4894 13.6325V14.0393C16.5547 14.0393 16.6083 14.0926 16.6083 14.1586H17.0151Z",fill:"#0D0D0D"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9825 8.21484C19.9825 8.96046 20.5883 9.56619 21.3325 9.56619C21.4636 9.56619 21.5706 9.67328 21.5706 9.80446C21.5706 9.93565 21.4643 10.0427 21.3325 10.0427C20.5883 10.0427 19.9825 10.6491 19.9825 11.3941C19.9825 11.5253 19.8756 11.6324 19.7445 11.6324C19.6135 11.6324 19.5065 11.5259 19.5065 11.3941C19.5065 10.6485 18.9007 10.0427 18.1565 10.0427C18.0254 10.0427 17.9185 9.93565 17.9185 9.80446C17.9185 9.67328 18.0248 9.56619 18.1565 9.56619C18.9007 9.56619 19.5065 8.95979 19.5065 8.21484C19.5065 8.08365 19.6135 7.97656 19.7445 7.97656C19.8756 7.97656 19.9825 8.08298 19.9825 8.21484Z",fill:"#0D0D0D"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.18885 10.893C6.18885 10.7144 6.04397 10.5703 5.8665 10.5703C5.68904 10.5703 5.54416 10.7153 5.54416 10.893V11.3235C5.54416 11.5021 5.68904 11.6462 5.8665 11.6462C6.04397 11.6462 6.18885 11.5012 6.18885 11.3235V10.893ZM6.4043 12.182C6.4043 12.0044 6.54826 11.8594 6.72664 11.8594H7.15673C7.3342 11.8594 7.47907 12.0044 7.47907 12.182C7.47907 12.3597 7.3351 12.5047 7.15673 12.5047H6.72664C6.54917 12.5047 6.4043 12.3597 6.4043 12.182ZM5.54395 13.0492C5.54395 12.8716 5.68791 12.7266 5.86629 12.7266C6.04375 12.7266 6.18863 12.8707 6.18863 13.0492V13.4798C6.18863 13.6574 6.04375 13.8024 5.86629 13.8024C5.68882 13.8024 5.54395 13.6583 5.54395 13.4798V13.0492ZM5.32868 12.182C5.32868 12.3597 5.18471 12.5047 5.00634 12.5047H4.57625C4.39878 12.5047 4.25391 12.3597 4.25391 12.182C4.25391 12.0044 4.39787 11.8594 4.57625 11.8594H5.00634C5.1838 11.8594 5.32868 12.0044 5.32868 12.182Z",fill:"#0D0D0D"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3553 2.76798C11.3553 4.13297 12.4645 5.24327 13.8281 5.24327C14.0056 5.24327 14.1505 5.38829 14.1505 5.56594C14.1505 5.74359 14.0065 5.88861 13.8281 5.88861C12.4645 5.88861 11.3553 6.99891 11.3553 8.3639C11.3553 8.54155 11.2105 8.68657 11.033 8.68657C10.8555 8.68657 10.7107 8.54246 10.7107 8.3639C10.7107 6.99891 9.60148 5.88861 8.23787 5.88861C8.0604 5.88861 7.91553 5.74359 7.91553 5.56594C7.91553 5.38829 8.05949 5.24327 8.23787 5.24327C9.60148 5.24327 10.7107 4.13297 10.7107 2.76798C10.7107 2.59033 10.8555 2.44531 11.033 2.44531C11.2105 2.44531 11.3553 2.58943 11.3553 2.76798Z",fill:"#0D0D0D"}))},$e="UTuy5aULGpe2KUMawJvI",et="hCMUGtIzSUtcRx_4wiMv",tt="S1pDg6AjnGlw_hvtn0m0",nt=function(e){var t=function(e){return"RemoveObjects"===e?"Remove_Objects":"Remove_Background"}(e);(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Image_"+t+"_Button_Click",adp_selection:"ADP_"+t,ui_element_location:"image_adp_tools_panel_top"}})},rt=function(e){var t=e.value,n=e.disabled,r=e.Icon,o=e.label,a=e.notAvailableText,u=J(),c=u.openModal,s=u.setShowDropdown,l=(0,ee.T)();return i().createElement("button",{className:$e,onClick:function(){c(t),s(!1),nt(t)},disabled:n,type:"button"},i().createElement(r,{className:tt}),l(o),n&&i().createElement(oi,{className:et},l(a)))},it=function(e){var t=e.disabled;return i().createElement(rt,{value:l.RemoveBackground,disabled:t,Icon:Ze,label:"remove_background",notAvailableText:"background_removal_not_available"})},ot=function(e){var t=e.disabled;return i().createElement(rt,{value:l.RemoveObjects,disabled:t,Icon:Ve,label:"remove_objects",notAvailableText:"object_removal_not_available"})},at="faTRqk0rydEHLcbaBNeg",ut=function(e){var t=e.canRemoveBackground,n=e.canRemoveObjects;return i().createElement("div",{className:at,"data-testid":"dropdown"},i().createElement(it,{disabled:!t}),i().createElement(ot,{disabled:!n}))},ct="vMHXHIlnzMXttg9nIv6_",st="kMgd6tB4yjyknv9JnA14",lt="nkuIi2SiJaVBWzRnn2yT",ft="suZeOJIJleov1GBMWtJq",dt="oYAkF0nX4TP7AVSQJIYZ",ht=function(e){var t=e.handleClick,n=e.asset,o=J(),a=o.openModal,u=o.showDropdown,c=o.setShowDropdown,s=(0,r.useContext)(de).availableModifications,f=(0,ee.T)(),d=n.largeMainImageURL,h=(null==s?void 0:s.background.length)>0,p=(null==s?void 0:s.objects.length)>0;(0,r.useEffect)((function(){(0,q.j)({name:"buttonShown",payload:{banner_name:"ADP_Modify_with_Ai_Button",ui_element_location:"image_adp_tools_panel_top"}},null)}),[]);return i().createElement(i().Fragment,null,i().createElement("link",{rel:"prefetch",href:d,as:"image","data-testid":"prefetch-image"}),i().createElement("div",{className:ct},i().createElement("div",{className:st},i().createElement("button",{className:lt,"data-testid":"modify-asset-button",onClick:function(){t();var e=function(e){return e?l.RemoveBackground:l.RemoveObjects}(h);a(e)},type:"button"},i().createElement(Xe,null),i().createElement("span",{className:dt},f("modify_with_ai"))),i().createElement("button",{"data-testid":"down-arrow",className:ft,onClick:function(){c(!u)},type:"button"},i().createElement(Be,null))),u&&i().createElement(ut,{canRemoveBackground:h,canRemoveObjects:p})))},pt=(0,r.createContext)({viewingOriginal:!1,setViewingOriginal:function(){}}),mt=function(e){var t=e.children,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useMemo)((function(){return{viewingOriginal:o,setViewingOriginal:a}}),[o]);return i().createElement(pt.Provider,{value:u},t)},vt="pBrJdq_zb_48_57slw1u",_t="nxgv3YCKe2hRsnJOKMud",gt=["just_a_moment_ai_working","did_you_know_1_download","tip_continue_modifying_after_licensed"],yt=function(){var e=(0,ee.T)(),t=(0,r.useState)(0),n=t[0],o=t[1],a=gt[n];return i().createElement("div",{className:vt,"data-testid":"loading-animation"},i().createElement(ze,null),i().createElement("span",{"data-testid":"animation-text",className:_t,onAnimationIteration:function(){o((n+1)%gt.length)}},e(a)))},wt=function(){return(0,r.useContext)(pt)},bt=function(){return i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"checkmark"},i().createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#02A388"}),i().createElement("path",{d:"M5 10.5L6.37512 9.3332L9.12488 11.6668L14.6249 7L16 8.1668L9.12488 14L5 10.5Z",fill:"white"}))},Ct="pIpmubW87UC45ftjz2sI",Et="SZiBth1YXjImkgbW2dQA",xt="RbUBz_RlNXzCe6HQKp7i",St="uHEi4U_uRIu61ceEnRGC",kt=function(){(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_Objects_Area_Selected",ui_element_location:"image_adp_modal"}},null)},Mt=function(e){var t=e.object,n=e.zIndex,o=(0,r.useState)(!1),a=o[0],u=o[1],c=t.coordinates,s=t.id,l=W(),f=l.hoveredListItem,d=l.selectedObjects,h=l.addHoveredListItem,p=l.addObjectMask,m=l.removeHoveredListItem,v=l.removeObjectMask,_=l.toggleObjectSelected,g=d&&d.has(t),y=f&&f.id===s;return i().createElement("div",{"data-testid":"bounding-box",role:"button",tabIndex:0,className:Ue()("globalBoundingBox",Ct,g&&"globalSelected",g&&xt,y&&St),onClick:function(){y&&m(),u(!0),_(t),g||kt()},onMouseEnter:function(){g||h(t),u(!1),p(t)},onMouseLeave:function(){a||(m(),v(t))},style:{width:c.w+"%",height:c.h+"%",top:c.y+"%",left:c.x+"%",zIndex:""+n}},g&&i().createElement("div",{className:Et},i().createElement(bt,null)))},It=function(){var e=W().objects,t=0!==e.length,n=(0,r.useMemo)((function(){return t?Math.max.apply(Math,e.map((function(e){return e.coordinates.w*e.coordinates.h}))):0}),[e]),o=function(e){var t=e.coordinates.w*e.coordinates.h;return Math.round(n/t)};return t?i().createElement("div",{"data-testid":"bounding-boxes"},e.map((function(e){return i().createElement(Mt,{key:e.id,object:e,zIndex:o(e)})}))):null},Lt="gJCFluOTL8Ad6a9YIbBa",Ot=function(e){var t=e.imageRef,n=W().maskingCoordinates,r=Array.from(n);return i().createElement("div",{className:Lt,"data-testid":"image-mask"},i().createElement("svg",null,i().createElement("mask",{id:"svgmask","data-testid":"svg-mask"},i().createElement("rect",{fill:"#666E6E",height:t.current.height,width:t.current.width}),r.map((function(e){return i().createElement("rect",{key:"hover-coordinate-"+e.x+"-"+e.y+"-"+e.w+"-"+e.h,"data-testid":"object-mask",fill:"#000000",width:e.w+"%",height:e.h+"%",x:e.x+"%",y:e.y+"%",rx:"8"})}))),i().createElement("rect",{mask:"url(#svgmask)",height:t.current.height,width:t.current.width})))},Nt="lWP4MqOVAakIbvXS7Kng",jt="WflgVrSmgeFrtJFTF4My",Rt=function(){var e=(0,ee.T)(),t=wt().viewingOriginal,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useRef)(!0);return(0,r.useEffect)((function(){if(!u.current){a(!0);var e=setTimeout((function(){a(!1)}),3e3);return function(){return clearTimeout(e)}}u.current=!1}),[t]),i().createElement("span",{className:Ue()(Nt,o&&jt),"data-testid":"image-type-badge"},e(t?"original":"modified"))};function At(){At=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),u=new S(i||[]);return r(a,"_invoke",{value:b(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function d(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,_=v&&v(v(k([])));_&&_!==t&&n.call(_,o)&&(m=_);var g=p.prototype=d.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,u){var c=l(e[r],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,u)}),(function(e){i("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return i("throw",e,a,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function b(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=C(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),c(g,u,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Dt(e,t,n,r,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,i)}var Pt=function(e){var t=e.visualId,n=e.assetId,i=e.largeMainImageURL,o=e.backgroundRemoved,a=e.removedObjects,u=e.showBackgroundError,c=e.showObjectError,s=e.previousImageSrcRef,l=e.requestId,f=Q().resetToOriginal,d=a.size>0,h=!o&&!d,p=(0,r.useRef)(!1),m=p.current&&!o,v=(0,r.useRef)(!1),_=v.current&&!d,g=function(){var e,r=(e=At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,z({assetId:n,visualId:t,largeMainImageURL:i});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),V(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Dt(o,r,i,a,u,"next",e)}function u(e){Dt(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();if((0,r.useEffect)((function(){(m||_)&&h&&g(),p.current=o,v.current=d}),[o,d]),h)return i;if(u||c)return s.current;var y=new URLSearchParams({assetId:n,largeMainImageURL:i,backgroundRemoved:""+o,objectIdsRemoved:Array.from(a,(function(e){return e.id})).toString(),requestId:l});return"/components/asset-mod/api/modifications/modify_image/"+t+"/watermarked/image.png?"+y},Ht=function(e){var t=document.createElement("canvas");return t.width=e.naturalWidth,t.height=e.naturalHeight,t.getContext("2d").drawImage(e,0,0),t.toDataURL()},Tt=function(e){var t=e.src,n=e.previousImageSrcRef,i=e.largeMainImageURL,o=(0,r.useState)(!1),a=o[0],u=o[1],c=(0,r.useState)(!0),s=c[0],l=c[1],f=(0,r.useRef)(),d=Q(),h=d.setResetToOriginal,p=d.setShowBackgroundError,m=d.setShowObjectError,v=d.setShowNotification,_=Y().setBackgroundRemoved,g=W().clearMaskingAndHoverData;(0,r.useEffect)((function(){var e;(null==(e=f.current)?void 0:e.src)!==t&&(u(!0),v(!1),h(!1))}),[t]);var y=(0,r.useCallback)((function(){u(!1),s?l(!1):v(!0),f.current&&f.current.src!==i?n.current=Ht(f.current):n.current=i}),[f,i,s]),w=(0,r.useCallback)((function(){p(!0),_(!1),v(!1)}),[]),b=(0,r.useCallback)((function(){m(!0),g(),v(!1)}),[]);return{loading:a,imgRef:f,isFirstLoad:s,onLoad:y,onBackgroundError:w,onObjectError:b}},zt="ddHaXPqHqjfmvl3aSzAV",Zt="j0bfztiydZspyTNO21tI",Vt="AOgEZlbIuR6PIu8c3oOo",Bt="V5GDZBcUR3CWqj05D65P",qt="LeOWaoERLzu3kaNBMKgf",Ft=function(e){var t=e.text,n=e.trackingBannerName,o=e.handleDismissal;return(0,r.useEffect)((function(){!function(e){(0,q.j)({name:"bannerShown",payload:{banner_name:e,ui_element_location:"adp_modal_image_top"}})}(n)}),[]),i().createElement("div",{className:qt,"data-testid":"asset-modification-error"},i().createElement("p",null,t),i().createElement("button",{type:"button",onClick:o,"data-testid":"asset-modification-error-dismissal"},i().createElement(qe,{fillColor:"black"}),i().createElement("span",null,"Close")))},Ut=function(e){var t=e.asset,n=e.visualId,o=e.modificationApplied,a=(0,ee.T)(),u=t.largeMainImageURL,c=t.ratio,s=t.assetId,f=(0,r.useRef)(),d=G().activeModificationType,h=Q(),p=h.showBackgroundError,m=h.setShowBackgroundError,v=h.showObjectError,_=h.setShowObjectError,g=Y().backgroundRemoved,y=W(),w=y.maskingCoordinates,b=y.objectListHovered,C=y.selectedObjects,E=y.removedObjects,x=wt(),S=x.viewingOriginal,k=x.setViewingOriginal,M=(0,r.useMemo)((function(){return Date.now().toString()}),[g,E,p,v]),I=Pt({visualId:n,assetId:s,largeMainImageURL:u,backgroundRemoved:g,removedObjects:E,showBackgroundError:p,showObjectError:v,previousImageSrcRef:f,requestId:M}),L=Tt({src:I,previousImageSrcRef:f,largeMainImageURL:u}),O=L.loading,N=L.imgRef,j=L.onLoad,R=L.onObjectError,A=L.onBackgroundError,D=0!==C.size,P=!S&&!O&&(D||b||w&&0!==w.size),H=!S&&!O&&d===l.RemoveObjects,T=(0,r.useMemo)((function(){return p&&d===l.RemoveBackground?i().createElement(Ft,{text:a("background_removal_an_error_occurred"),trackingBannerName:"ADP_modal_remove_background_error_banner",handleDismissal:function(){return m(!1)}}):v&&d===l.RemoveObjects?i().createElement(Ft,{text:a("object_removal_an_error_occurred"),trackingBannerName:"ADP_modal_remove_object_error_banner",handleDismissal:function(){return _(!1)}}):null}),[p,d,v]);return i().createElement("button",{className:zt,style:{aspectRatio:c},type:"button",tabIndex:0,"data-testid":"image-wrapper",onClick:function(){S&&k(!1)}},(!I||S)&&i().createElement("img",{"data-testid":"original-image",src:u,alt:"Original",className:Ue()(Bt)}),I&&i().createElement("img",{id:"modified-image",src:I,alt:"Modified",className:Ue()(Zt,O&&Vt),onLoad:j,onError:function(){d===l.RemoveObjects?R():A()},ref:N}),O&&i().createElement(yt,null),P&&i().createElement(Ot,{imageRef:N}),H&&i().createElement(It,null),o&&i().createElement(Rt,null),T)},Kt=new Map([[l.RemoveBackground,"Remove_Background"],[l.RemoveObjects,"Remove_Object"]]),Wt="NBfpZ_W2L4vtL1t1xXRA",Gt="WZ0moDxyCUWXHH2F5XrC",Jt="xm34Vk3lkxl41mJgHKEd",Yt="p6F4kM55KEwWhk7Fc1Rh",Qt=function(e){var t=e.disabled,n=e.value,o=e.Icon,a=e.label,u=e.notAvailableText,c=(0,ee.T)(),s=G(),l=s.activeModificationType,f=s.setActiveModificationType,d=W().clearMaskingAndHoverData,h=n===l;(0,r.useEffect)((function(){var e,r;t||(e=n,r=Kt.get(e),(0,q.j)({name:"buttonShown",payload:{banner_name:"ADP_Modal_Tab_"+r+"_Shown",ui_element_location:"image_adp_modal"}}))}),[]);return i().createElement("button",{className:Ue()(Wt,h&&Gt),onClick:function(){var e,t;f(n),d(),e=n,t=Kt.get(e),(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Tab_"+t+"_Click",adp_selection:"ADP_Modal_Tab_"+t,ui_element_location:"image_adp_modal"}})},disabled:t,type:"button"},i().createElement(o,{className:Jt}),c(a),t&&i().createElement(oi,{className:Yt},c(u)))},Xt=function(e){var t=e.disabled;return i().createElement(Qt,{disabled:t,value:l.RemoveBackground,Icon:Ze,label:"remove_background",notAvailableText:"background_removal_not_available"})},$t=function(e){var t=e.disabled;return i().createElement(Qt,{disabled:t,value:l.RemoveObjects,Icon:Ve,label:"remove_objects",notAvailableText:"object_removal_not_available"})},en="mnLsOFMIROCiXuUWNhve",tn=function(e){var t=e.canRemoveBackground,n=e.canRemoveObjects;return i().createElement("div",{className:en,"data-testid":"modification-selector"},i().createElement(Xt,{disabled:!t}),i().createElement($t,{disabled:!n}))},nn=n(3382),rn=n(55972),on=function(){return i().createElement("svg",{width:"54",height:"22",viewBox:"0 0 54 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("rect",{width:"54",height:"22",rx:"11",fill:"url(#paint0_linear_6601_271173)"}),i().createElement("path",{d:"M19.467 13.708C19.467 14.992 18.591 16 16.815 16H13.203V8.008H16.551C18.195 8.008 19.131 8.716 19.131 9.928C19.131 10.72 18.711 11.32 18.087 11.656C18.999 12.028 19.467 12.784 19.467 13.708ZM18.003 10.084C18.003 9.352 17.499 9.028 16.515 9.028H14.331V11.308H16.575C17.487 11.308 18.003 10.828 18.003 10.084ZM18.291 13.648C18.291 12.856 17.823 12.28 16.827 12.28H14.331V14.992H16.779C17.751 14.992 18.291 14.488 18.291 13.648ZM26.9206 16H21.1366V8.008H26.8006V9.04H22.2646V11.296H26.2126V12.268H22.2646V14.968H26.9206V16ZM34.374 9.04H31.65V16H30.522V9.04H27.81V8.008H34.374V9.04ZM41.757 16H40.497L39.645 13.78H36.045L35.181 16H34.005L37.257 8.008H38.493L41.757 16ZM39.273 12.796L37.869 9.1L36.429 12.796H39.273Z",fill:"white"}),i().createElement("defs",null,i().createElement("linearGradient",{id:"paint0_linear_6601_271173",x1:"-4.5",y1:"25.5",x2:"54",y2:"7",gradientUnits:"userSpaceOnUse"},i().createElement("stop",{stopColor:"#9F1E9C"}),i().createElement("stop",{offset:"0.541667",stopColor:"#F0122A"}),i().createElement("stop",{offset:"1",stopColor:"#F75733"}))))},an="ld9ulmUz7MrfXjOnhXbQ",un="PBX3eM2VqjLbfDmZfRdw",cn="ebUnYwRd0S5Y_OtVeU69",sn="cGSQOE66baF5i70nPObA",ln="Vs2AlxcdicyLw7r3AbFH",fn="Ao9iduNxOX6LKuD7NOUr",dn="tjE9Vjl_qmcy1pr0LB4g",hn=function(){var e=(0,ee.T)(),t=X().toggleFeedbackModal,n=(0,r.useState)(!1),o=n[0],a=n[1],u="quality_ai_tooltip";(0,r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem(u));null!=e&&e.dismissed&&a(!0)}),[o]);var c=e("ai_beta_quality_warning",{links:[{href:"#",id:"ai-beta-feedback-link"}]}),s=function(){var e=document.getElementById("ai-beta-feedback-link");e&&e.addEventListener("click",(function(){return t()}))},l=i().createElement("div",{"data-testid":"beta-badge-tooltip-content",className:ln},i().createElement("span",{className:fn},i().createElement(rn.Z,null,c))),f=i().createElement("div",{"data-testid":"beta-hoverable-tooltip",className:un},i().createElement(nn.Tg,{className:sn,placement:"bottom",trigger:i().createElement(on,null),trackViewed:s},l)),d=i().createElement("div",{"data-testid":"beta-dismissible-tooltip"},i().createElement(on,null),i().createElement("div",{className:an},i().createElement(nn.lq,{className:cn,localStorageKey:u,name:"BackgroundRemovalTooltip",placement:"bottom",trackDismissed:function(){a(!0)},trackViewed:s},l))),h=o?f:d;return i().createElement("div",{"data-testid":"beta-ai-badge",className:dn},h)},pn="MNXD6afHuOQUo1rBEpHI",mn="xLE1VJdb2unBokzpoTmB",vn="_d4w2BYKw21LEsr7vo1z",_n=function(){var e=Y(),t=e.backgroundRemoved,n=e.setBackgroundRemoved,r=wt(),o=r.viewingOriginal,a=r.setViewingOriginal;return i().createElement("button",{className:Ue()(pn,t&&mn),onClick:function(){var e;o&&a(!1),n(!t),e=!t?"remove":"restore",(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_image_remove_backgroud_toggle_click",adp_selection:"ADP_image_toggle_"+e+"_background",ui_element_location:"image_adp_modal"}})},"data-testid":"remove-background-toggle",type:"button"},i().createElement("span",{className:vn}))},gn="RaMXBMf9JV7IPn2gC2Ap",yn="kPegHnf_Fw5UwRzLMDph",wn=function(){var e=(0,ee.T)();return i().createElement(i().Fragment,null,i().createElement("div",{className:gn},i().createElement("div",null,e("make_background_transparent")," "),i().createElement(hn,null)),i().createElement("div",{className:yn},i().createElement(_n,null),i().createElement("span",null,e("remove_background"))))},bn="gTxrtooLWO28J7IHuMDX",Cn="uAjEYld_Dr_R_V4GAytE",En="T17jxbcV2b59SBGavRz_",xn="dWJ8zuFXryPNYciK_lFw",Sn="ZOi8SjKkdkcQHdO3X8mO",kn=function(e){var t={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_Objects_Removed_"+e,ui_element_location:"image_adp_modal"}};(0,q.j)(t,null)},Mn=function(e){var t,n=e.object,r=e.position,o=W(),a=o.addObjectMask,u=o.addHoveredListItem,c=o.removeObjectMask,s=o.removeHoveredListItem,l=o.toggleObjectSelected,f=o.hoveredListItem,d=o.selectedObjects,h=o.removedObjects,p=wt(),m=p.viewingOriginal,v=p.setViewingOriginal,_=(t=n.modifications).charAt(0).toLocaleUpperCase()+t.slice(1)+(r?" "+r:""),g=d&&d.has(n),y=h&&h.has(n),w=f&&f.id===n.id;return i().createElement("li",{className:Ue()(bn,w&&!m&&En,g&&Sn,y&&xn,m&&Cn),onClick:function(){m?v(!1):(g?u(n):s(),l(n),g||kn(d.size))},onMouseEnter:function(){g||u(n),a(n)},onMouseLeave:function(){c(n),s()}},g&&i().createElement(bt,null),_)},In="RkhiiK9w7G2rWLy6rufy",Ln="KE69i9KrW9DQErO3XvsN",On=function(){var e=W(),t=e.objects,n=e.toggleObjectListHovered;return i().createElement("div",{className:In},i().createElement("ol",{className:Ln,"data-testid":"object-list",onMouseEnter:n,onMouseLeave:n},function(e,t){var n=new Map;return e.map((function(r,i){var o,a,u=null!=(o=n.get(r.modifications))?o:0;n.set(r.modifications,++u);var c=u>1||r.modifications===(null==(a=e[i+1])?void 0:a.modifications);return t(r,u,c)}))}(t,(function(e,t,n){return i().createElement(Mn,{object:e,position:n?t:null,key:e.id})}))))},Nn="ZHOPhRt0XgIlkjuR5Isc",jn=function(){var e=(0,ee.T)();return i().createElement(i().Fragment,null,i().createElement("div",{className:Nn},i().createElement("div",null," ",e("select_objects_remove_or_restore")," "),i().createElement(hn,null)),i().createElement(On,null))},Rn=function(){return G().activeModificationType===l.RemoveBackground?i().createElement(wn,null):i().createElement(jn,null)},An=n(7704),Dn="eolUWVpUUH1BmAKlQDUw";function Pn(){Pn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),u=new S(i||[]);return r(a,"_invoke",{value:b(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function d(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,_=v&&v(v(k([])));_&&_!==t&&n.call(_,o)&&(m=_);var g=p.prototype=d.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,u){var c=l(e[r],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,u)}),(function(e){i("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return i("throw",e,a,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function b(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=C(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),c(g,u,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Hn(e,t,n,r,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,i)}var Tn=function(e){var t=e.assetId,n=e.visualId,r=Q().setResetToOriginal,o=Y().setBackgroundRemoved,a=W(),u=a.resetAllObjects,c=a.setModificationCount,s=(0,ee.T)();return i().createElement(An.zx,{onClick:function(){var e=function(){var e,r=(e=Pn().mark((function e(){return Pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T({assetId:t,visualId:n});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),V(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Hn(o,r,i,a,u,"next",e)}function u(e){Hn(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();o(!1),c({removed:0,restored:0}),u(),r(!0),e()},variant:An.hZ.HOLLOW,className:Dn,"data-testid":"reset-button"},i().createElement(Qe,null),s("reset"))},zn="QLro8_54qBMqIZbsxNaS",Zn=function(){var e=(0,ee.T)(),t=wt(),n=t.viewingOriginal,r=t.setViewingOriginal;return i().createElement(An.zx,{onClick:function(){return r(!n)},variant:An.hZ.HOLLOW,className:zn,"data-testid":"toggle-original-button"},i().createElement(Je,{flip:n}),e(n?"view_modified":"view_original"))},Vn="XqBe914xGwh68b7KvzwD",Bn=function(e){var t=e.assetId,n=e.visualId;return i().createElement("div",{className:Vn,"data-testid":"session-controls"},i().createElement(Tn,{assetId:t,visualId:n}),i().createElement(Zn,null))},qn=n.p+"static/bria-logo-sm-804e231525be54a0dee8.png",Fn="ANitCj0rDKJiCDOs6r7v",Un="qMzZ_rUBGzGVQ4rWirEI",Kn=function(){var e=(0,ee.T)();return i().createElement("div",{className:Fn},e("powered_by"),i().createElement("img",{className:Un,src:qn,alt:"Bria"}))},Wn="iPGRlGjVrWWAz6hM9nb5",Gn="tUYWpI60jcJGXfbMZFs7",Jn=function(e){var t=e.asset,n=e.visualId,r=e.availableModifications,o=Y().backgroundRemoved,a=W().removedObjects,u=o||a.size>0,c=r.background.length>0,s=r.objects.length>0;return i().createElement(mt,null,i().createElement("div",{className:Wn,"data-testid":"modifications-editor"},i().createElement(tn,{canRemoveBackground:c,canRemoveObjects:s}),i().createElement("div",{className:Gn},i().createElement(Ut,{asset:t,visualId:n,modificationApplied:u}),i().createElement(Rn,null),u&&i().createElement(Bn,{assetId:t.assetId,visualId:n}))))},Yn=n(99183),Qn=function(e){return Promise.all([D().post("/modifications/feedback",{feedback:e}),D().post("/components/asset-mod/api/feedback",{feedback:e})])},Xn="Inb7TKRt9k7YLXov8ZU1",$n=function(e){var t=e.handleClose;return i().createElement("button",{className:Xn,type:"button",onClick:t,"data-testid":"close-button"},i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 98"},i().createElement("g",null,i().createElement("polygon",{points:"78.2 23.3 75 20.1 48.7 46.4 22.5 20.1 19.2 23.3 45.5 49.6 18.3 76.8 21.5 80.1 48.7 52.8 76 80.1 79.2 76.8 52 49.6 78.2 23.3",stroke:"#353838",strokeWidth:"1.25949"}))))},er="rmWCjx74JfgAJpWENmEQ",tr=function(e){var t=e.comments,n=e.handleComment,r=e.text;return i().createElement("div",{className:er,"data-testid":"comments"},i().createElement("label",{htmlFor:"comments"},r),i().createElement("textarea",{"data-testid":"comments-textarea",id:"comments",name:"comments",value:t,onChange:n}))},nr={confirmationContainer:"_G6R5MwJZJV0O8vHrYrE",right:"_161hZLIPzFhJq0lcffo","bottom-left":"UWzTtMtFEJjayzFTzdrh"},rr=function(e){var t=e.text,n=e.setShowConfirmation,o=e.placement,a=void 0===o?"right":o;return(0,r.useEffect)((function(){var e=setTimeout((function(){n(!1)}),3e3);return function(){return clearTimeout(e)}}),[]),i().createElement("div",{className:Ue()(nr.confirmationContainer,nr[a]),"data-testid":"confirmation"},i().createElement(xr,null),i().createElement("p",null,t),i().createElement($n,{handleClose:function(){n(!1)}}))},ir=n(80803),or=function(){var e=(0,ir.NW)(),t=(0,ee.T)();return i().createElement(rn.Z,null,t("view_privacy_policy_and_terms_of_use",{links:[{href:e.cleanPath("/legal/privacy-policy"),target:"_blank"},{href:e.cleanPath("/legal/terms-of-use"),target:"_blank"}]}))},ar={contactContainer:"iZwufFmyi6vRissLLw4l"},ur=function(e){var t=e.handleCheckbox,n=e.canBeEmailedText;return i().createElement("div",{className:ar.contactContainer,"data-testid":"contact"},i().createElement("input",{type:"checkbox",id:"contact","data-testid":"contact-checkbox",name:"contact",onClick:t}),i().createElement("label",{htmlFor:"contact",className:ar.contactLabel},n),i().createElement("p",null,i().createElement(or,null)))},cr="f_NJcwHjAxV_tvJN32r7",sr="gDVju8ZkqaXupSWWbzxS",lr=function(e){var t=e.comments,n=e.handleComment,r=e.handleReasonSelection,o=e.text,a=o.elementsNotRemoved,u=o.elementsWereErased,c=o.featureNotEasyToUse,s=o.itTookTooLong,l=o.other,f=o.selectReasonForRating;return i().createElement("fieldset",{className:cr},i().createElement("legend",null,f),i().createElement("input",{type:"checkbox",name:"rating-detail",id:"elementNotRemoved",value:"Elements were not properly removed",onChange:r}),i().createElement("label",{htmlFor:"elementNotRemoved"},a),i().createElement("input",{type:"checkbox",name:"rating-detail",id:"elementErased",value:"Essential elements were erased",onChange:r}),i().createElement("label",{htmlFor:"elementErased"},u),i().createElement("input",{id:"featureNotEasyToUse",name:"rating-detail",type:"checkbox",value:"Feature isn't easy to use",onChange:r}),i().createElement("label",{htmlFor:"featureNotEasyToUse"},c),i().createElement("input",{type:"checkbox",name:"rating-detail",id:"itTookTooLong",value:"It took longer than expected",onChange:r}),i().createElement("label",{htmlFor:"itTookTooLong"},s),i().createElement("label",{className:sr,htmlFor:"other"},l),i().createElement("textarea",{id:"other",name:"rating-detail",placeholder:l,value:t,onChange:n}))},fr="uYHdc7ZNx9gPMRDCfTMv",dr="l84fFHNpstWDxbim7KIn",hr=function(e){var t=e.activeIcon,n=e.handleRating,r=e.Icon,o=e.id,a=e.text,u=e.value,c=t===o;return i().createElement("li",{key:a,className:dr},i().createElement("input",{type:"radio",id:o,"data-testid":"list-item",name:"rating",value:u,onClick:n}),i().createElement("label",{htmlFor:o},i().createElement(r,{active:c}),i().createElement("span",null,a)))},pr=function(e){var t=e.activeIcon,n=e.handleRating,r=e.iconText,o=r.veryPoor,a=r.poor,u=r.fair,c=r.good,s=r.great;return i().createElement("div",{className:fr,"data-testid":"rating-list"},i().createElement("ul",null,i().createElement(hr,{activeIcon:t,handleRating:n,Icon:yr,id:"very-poor",text:o,value:"1"}),i().createElement(hr,{activeIcon:t,handleRating:n,Icon:wr,id:"poor",text:a,value:"2"}),i().createElement(hr,{activeIcon:t,handleRating:n,Icon:br,id:"fair",text:u,value:"3"}),i().createElement(hr,{activeIcon:t,handleRating:n,Icon:Cr,id:"good",text:c,value:"4"}),i().createElement(hr,{activeIcon:t,handleRating:n,Icon:Er,id:"great",text:s,value:"5"})))},mr="U3b53vGfbsDm5NuUUPbg",vr="nRJd13MqByY9qqAw0J92",_r="Sj0FtIO6UyKZuXq443Gu",gr="kPBPKy29Y_j4TZCRvDwH",yr=function(e){var t=e.active;return i().createElement("svg",{className:t?mr:_r,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 19.125C2.25 9.80519 9.80519 2.25 19.125 2.25C28.4448 2.25 36 9.80519 36 19.125C36 28.4448 28.4448 36 19.125 36C9.80519 36 2.25 28.4448 2.25 19.125ZM19.125 0C8.56255 0 0 8.56255 0 19.125C0 29.6874 8.56255 38.25 19.125 38.25C29.6874 38.25 38.25 29.6874 38.25 19.125C38.25 8.56255 29.6874 0 19.125 0ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.4587 11.1573 13.6959 12.0262 13.5324L9.99072 12.3572C9.51243 12.0811 9.34855 11.4695 9.6247 10.9912C9.90084 10.5129 10.5124 10.349 10.9907 10.6252L13.8724 12.2889C14.3506 12.565 14.5145 13.1766 14.2384 13.6549C14.1203 13.8594 13.9409 14.0064 13.7368 14.0862C14.0549 14.4222 14.25 14.8758 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 15.0175 24.1001 14.6833 24.2738 14.399C24.01 14.3402 23.7708 14.1753 23.6251 13.9229C23.349 13.4446 23.5128 12.833 23.9911 12.5568L26.8728 10.8931C27.3511 10.617 27.9626 10.7809 28.2388 11.2592C28.5149 11.7375 28.3511 12.349 27.8728 12.6252L26.2811 13.5441C27.1214 13.7297 27.75 14.4789 27.75 15.375ZM14.0625 23.8619C15.6021 22.9754 17.3476 22.5088 19.1242 22.5088C20.9008 22.5088 22.6463 22.9754 24.1859 23.8619C25.7255 24.7485 27.0053 26.0238 27.8972 27.5603C28.2091 28.0977 28.0263 28.7861 27.489 29.0981C26.9516 29.41 26.2632 29.2272 25.9512 28.6898C25.2572 27.4941 24.2613 26.5017 23.0632 25.8118C21.8651 25.1219 20.5068 24.7588 19.1242 24.7588C17.7417 24.7588 16.3834 25.1219 15.1853 25.8118C13.9871 26.5017 12.9912 27.4941 12.2972 28.6898C11.9853 29.2272 11.2968 29.41 10.7595 29.0981C10.2221 28.7861 10.0393 28.0977 10.3512 27.5603C11.2431 26.0238 12.5229 24.7485 14.0625 23.8619Z",fill:"#ADB9BA"}))},wr=function(e){var t=e.active;return i().createElement("svg",{className:t?mr:_r,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 19.125C2.25 9.80519 9.80519 2.25 19.125 2.25C28.4448 2.25 36 9.80519 36 19.125C36 28.4448 28.4448 36 19.125 36C9.80519 36 2.25 28.4448 2.25 19.125ZM19.125 0C8.56255 0 0 8.56255 0 19.125C0 29.6874 8.56255 38.25 19.125 38.25C29.6874 38.25 38.25 29.6874 38.25 19.125C38.25 8.56255 29.6874 0 19.125 0ZM19.1244 22.5088C17.3478 22.5088 15.6024 22.9754 14.0628 23.862C12.5231 24.7485 11.2433 26.0238 10.3515 27.5604C10.0396 28.0977 10.2223 28.7862 10.7597 29.0981C11.2971 29.41 11.9855 29.2272 12.2974 28.6899C12.9915 27.4942 13.9874 26.5017 15.1855 25.8118C16.3836 25.1219 17.7419 24.7588 19.1244 24.7588C20.507 24.7588 21.8653 25.1219 23.0634 25.8118C24.2615 26.5017 25.2574 27.4942 25.9515 28.6899C26.2634 29.2272 26.9518 29.41 27.4892 29.0981C28.0266 28.7862 28.2093 28.0977 27.8974 27.5604C27.0056 26.0238 25.7258 24.7485 24.1861 23.862C22.6465 22.9754 20.9011 22.5088 19.1244 22.5088ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.3395 11.3395 13.5 12.375 13.5C13.4105 13.5 14.25 14.3395 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 14.3395 24.8395 13.5 25.875 13.5C26.9105 13.5 27.75 14.3395 27.75 15.375Z",fill:"#ADB9BA"}))},br=function(e){var t=e.active;return i().createElement("svg",{className:t?vr:gr,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.125 2.25C9.80519 2.25 2.25 9.80519 2.25 19.125C2.25 28.4448 9.80519 36 19.125 36C28.4448 36 36 28.4448 36 19.125C36 9.80519 28.4448 2.25 19.125 2.25ZM0 19.125C0 8.56255 8.56255 0 19.125 0C29.6874 0 38.25 8.56255 38.25 19.125C38.25 29.6874 29.6874 38.25 19.125 38.25C8.56255 38.25 0 29.6874 0 19.125ZM10.5 25.125C10.5 24.5037 11.0037 24 11.625 24H26.625C27.2463 24 27.75 24.5037 27.75 25.125C27.75 25.7463 27.2463 26.25 26.625 26.25H11.625C11.0037 26.25 10.5 25.7463 10.5 25.125ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.3395 11.3395 13.5 12.375 13.5C13.4105 13.5 14.25 14.3395 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 14.3395 24.8395 13.5 25.875 13.5C26.9105 13.5 27.75 14.3395 27.75 15.375Z",fill:"#ADB9BA"}))},Cr=function(e){var t=e.active;return i().createElement("svg",{className:t?vr:gr,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.125 2.25C9.80519 2.25 2.25 9.80519 2.25 19.125C2.25 28.4448 9.80519 36 19.125 36C28.4448 36 36 28.4448 36 19.125C36 9.80519 28.4448 2.25 19.125 2.25ZM0 19.125C0 8.56255 8.56255 0 19.125 0C29.6874 0 38.25 8.56255 38.25 19.125C38.25 29.6874 29.6874 38.25 19.125 38.25C8.56255 38.25 0 29.6874 0 19.125ZM12.375 17.25C13.4105 17.25 14.25 16.4105 14.25 15.375C14.25 14.3395 13.4105 13.5 12.375 13.5C11.3395 13.5 10.5 14.3395 10.5 15.375C10.5 16.4105 11.3395 17.25 12.375 17.25ZM25.875 17.25C26.9105 17.25 27.75 16.4105 27.75 15.375C27.75 14.3395 26.9105 13.5 25.875 13.5C24.8395 13.5 24 14.3395 24 15.375C24 16.4105 24.8395 17.25 25.875 17.25ZM12.2977 23.0602C11.9858 22.5229 11.2973 22.3401 10.76 22.652C10.2226 22.9639 10.0398 23.6524 10.3517 24.1898C11.2436 25.7263 12.5234 27.0016 14.063 27.8882C15.6026 28.7747 17.3481 29.2413 19.1247 29.2413C20.9013 29.2413 22.6468 28.7747 24.1864 27.8882C25.726 27.0016 27.0058 25.7263 27.8977 24.1898C28.2096 23.6524 28.0268 22.9639 27.4895 22.652C26.9521 22.3401 26.2636 22.5229 25.9517 23.0602C25.2577 24.256 24.2618 25.2484 23.0637 25.9383C21.8655 26.6282 20.5072 26.9913 19.1247 26.9913C17.7422 26.9913 16.3839 26.6282 15.1858 25.9383C13.9876 25.2484 12.9917 24.256 12.2977 23.0602Z",fill:"#ADB9BA"}))},Er=function(e){var t=e.active;return i().createElement("svg",{className:t?vr:gr,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.125 20C3.125 10.6802 10.6802 3.125 20 3.125C29.3198 3.125 36.875 10.6802 36.875 20C36.875 29.3198 29.3198 36.875 20 36.875C10.6802 36.875 3.125 29.3198 3.125 20ZM20 0.875C9.43755 0.875 0.875 9.43755 0.875 20C0.875 30.5624 9.43755 39.125 20 39.125C30.5624 39.125 39.125 30.5624 39.125 20C39.125 9.43755 30.5624 0.875 20 0.875ZM12 23.875C11.619 23.875 11.2639 24.0679 11.0564 24.3874C10.8489 24.707 10.8173 25.1099 10.9724 25.4579C11.8527 27.4334 13.1319 29.1098 14.7093 30.2928C16.2908 31.4789 18.1159 32.125 20 32.125C21.8841 32.125 23.7092 31.4789 25.2907 30.2928C26.8681 29.1098 28.1473 27.4334 29.0276 25.4579C29.1827 25.1099 29.1511 24.707 28.9436 24.3874C28.7361 24.0679 28.381 23.875 28 23.875H12ZM16.0593 28.4928C15.2444 27.8817 14.5066 27.0819 13.8844 26.125H26.1156C25.4934 27.0819 24.7556 27.8817 23.9407 28.4928C22.7143 29.4126 21.356 29.875 20 29.875C18.644 29.875 17.2857 29.4126 16.0593 28.4928ZM14 16.125C12.9645 16.125 12.125 16.9645 12.125 18C12.125 18.6213 11.6213 19.125 11 19.125C10.3787 19.125 9.875 18.6213 9.875 18C9.875 15.7218 11.7218 13.875 14 13.875C16.2782 13.875 18.125 15.7218 18.125 18C18.125 18.6213 17.6213 19.125 17 19.125C16.3787 19.125 15.875 18.6213 15.875 18C15.875 16.9645 15.0355 16.125 14 16.125ZM24.125 18C24.125 16.9645 24.9645 16.125 26 16.125C27.0355 16.125 27.875 16.9645 27.875 18C27.875 18.6213 28.3787 19.125 29 19.125C29.6213 19.125 30.125 18.6213 30.125 18C30.125 15.7218 28.2782 13.875 26 13.875C23.7218 13.875 21.875 15.7218 21.875 18C21.875 18.6213 22.3787 19.125 23 19.125C23.6213 19.125 24.125 18.6213 24.125 18Z",fill:"#ADB9BA"}))},xr=function(){return i().createElement("svg",{"data-testid":"confirmation-icon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("g",{clipPath:"url(#clip0_839_18929)"},i().createElement("path",{d:"M20.4983 32.9422L11.7803 24.2201L13.5376 22.4641L20.4983 29.4288L34.0099 15.9199L35.7672 17.6759L20.4983 32.9422Z",fill:"#02A388"}),i().createElement("path",{d:"M46.9999 23.9999C46.9999 36.7024 36.7024 46.9999 23.9999 46.9999C11.2974 46.9999 0.999902 36.7024 0.999902 23.9999C0.999902 11.2974 11.2974 0.999902 23.9999 0.999902C36.7024 0.999902 46.9999 11.2974 46.9999 23.9999Z",stroke:"#02A388",strokeWidth:"1.2"})),i().createElement("defs",null,i().createElement("clipPath",{id:"clip0_839_18929"},i().createElement("rect",{width:"48",height:"48",fill:"white"}))))},Sr={container:"ddezKH91fQgGYdc1vWcx",right:"miyqu64Ij5NYZ_W45cKA","bottom-left":"CygO7WDuW4UlOGY2NHII",textContainer:"rZFWCb1IMCtDqR15I2QS",heading:"KlV3PFZ9jPur9At_wvcu",body:"Gt53r0DR01UQdiUkbOxe",submitButton:"Sk8YxUpT3m5YWEzYd0Ca",modalEnter:"M7SheMOA6juy8krtrjTg",confirmationEnter:"eEDeAGQuhuwpeGGyP7IA",modalEnterActive:"Xv4Fkvex1TMi2xw9WxpJ",confirmationEnterActive:"_kmz5ggzWCStOeZ2Eg5O",modalExit:"PsXJHrq7pb99DIGtiyEP",confirmationExit:"M0kgvxeZo6yrL6LFfxgs",modalExitActive:"FHgamu1Gd2H3gGu5dsDP",confirmationExitActive:"b2ISOV2cwCiY8psZe9kg"};function kr(){kr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),u=new S(i||[]);return r(a,"_invoke",{value:b(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function d(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,_=v&&v(v(k([])));_&&_!==t&&n.call(_,o)&&(m=_);var g=p.prototype=d.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,u){var c=l(e[r],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,u)}),(function(e){i("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return i("throw",e,a,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function b(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=C(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),c(g,u,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Mr(e,t,n,r,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,i)}var Ir=["very-poor","poor","fair"],Lr=function(e){var t=e.headerText,n=e.visualId,o=e.placement,a=void 0===o?"right":o,u=e.subHeaderText,c=e.assetId,s=(0,ee.T)(),l=ne(),f=l.activeModifications,d=l.setActiveModifications,h=Y().backgroundRemoved,p=W().removedObjects,m=X(),v=m.showFeedbackModal,_=m.toggleFeedbackModal,g=m.toggleFeedbackBanner,y=(0,r.useState)(null),w=y[0],b=y[1],C=(0,r.useState)(!1),E=C[0],x=C[1],S=(0,r.useState)(""),k=S[0],M=S[1],I=(0,r.useState)(!1),L=I[0],O=I[1],N=(0,r.useState)(null),j=N[0],R=N[1],A=(0,r.useState)(null),D=A[0],P=A[1],H=(null==D?void 0:D.size)>0,T={veryPoor:s("very_poor"),poor:s("poor"),fair:s("fair"),good:s("good"),great:s("great")},z={elementsNotRemoved:s("elements_were_not_removed"),elementsWereErased:s("elements_were_erased"),featureNotEasyToUse:s("feature_is_not_easy_to_use"),itTookTooLong:s("it_took_longer_than_expected"),other:s(H?"additional_comments":"other_please_specify"),selectReasonForRating:s("select_the_reason_for_your_rating")},Z=function(e){var t=Ir.includes(e.target.id),n=!t&&D;t&&!D&&P(new Set),n&&P(null),b(e.target.id),R(e.target.value),function(e){var t={1:"ADP_modal_remove_background_feedback_very_poor_1",2:"ADP_modal_remove_background_feedback_poor_2",3:"ADP_modal_remove_background_feedback_fair_3",4:"ADP_modal_remove_background_feedback_good_4",5:"ADP_modal_remove_background_feedback_great_5"}[e]||"ADP_modal_remove_background_feedback_error";(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:t,ui_element_location:"adp_modal"}})}(e.target.value)},V=function(e){M(e.target.value)},B=function(){var e,t=(e=kr().mark((function e(t){var r;return kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={visualId:n,assetId:c,assetUrl:window.location.href,canContact:E,comments:k,rating:j,reasons:Array.from(null!=D?D:[]),modificationTypes:f},e.prev=2,e.next=5,Qn(r);case 5:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2);case 12:g(),_(),O(!L),(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Modal_Remove_Background_Feedback_Submit",ui_element_location:"adp_modal"}});case 16:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Mr(o,r,i,a,u,"next",e)}function u(e){Mr(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){v&&(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Shown",adp_selection:"ADP_remove_background_feedback",ui_element_location:"adp_modal"}})}),[v]),(0,r.useEffect)((function(){var e=[];h&&e.push("BackgroundRemoved"),p.size>0&&e.push("ObjectsRemoved"),d(e)}),[h,p]),i().createElement(i().Fragment,null,i().createElement(Yn.CSSTransition,{in:L,unmountOnExit:!0,timeout:300,classNames:{enter:Sr.confirmationEnter,enterActive:Sr.confirmationEnterActive,exit:Sr.confirmationExit,exitActive:Sr.confirmationExitActive}},i().createElement(rr,{text:s("thanks_for_providing_feedback"),setShowConfirmation:O,placement:a})),i().createElement(Yn.CSSTransition,{in:v,unmountOnExit:!0,timeout:300,classNames:{enter:Sr.modalEnter,enterActive:Sr.modalEnterActive,exit:Sr.modalExit,exitActive:Sr.modalExitActive}},i().createElement("div",{role:"dialog",className:Ue()(Sr.container,Sr[a]),"data-testid":"feedback-modal"},i().createElement("div",{className:Sr.textContainer},i().createElement("p",{"data-testid":"header-text",className:Sr.heading},t),i().createElement("p",{"data-testid":"sub-header-text",className:Sr.body},u||"")),i().createElement($n,{handleClose:function(){_(),(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Dismiss",adp_selection:"ADP_remove_background_feedback",ui_element_location:"adp_modal"}})}}),w?i().createElement("form",{onSubmit:B,"data-testid":"feedback-form"},i().createElement(pr,{activeIcon:w,handleRating:Z,iconText:T}),D?i().createElement(lr,{comments:k,handleComment:V,handleReasonSelection:function(e){var t=e.currentTarget;t.checked?D.add(t.value):D.delete(t.value),P(new Set(D))},text:z}):i().createElement(tr,{comments:k,handleComment:V,text:s("additional_comments")}),i().createElement(ur,{handleCheckbox:function(){x(!E)},canBeEmailedText:s("i_can_be_emailed_for_more_details")}),i().createElement("input",{type:"submit","data-testid":"submit-button",className:Sr.submitButton,value:s("submit")})):i().createElement(pr,{activeIcon:w,handleRating:Z,iconText:T}))))},Or=function(e){var t=e.className;return i().createElement("svg",{className:t,viewBox:"0 0 101 43",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"iStock-logo"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.55196 26.191H0.741194V8.29849H5.55196V26.191ZM10.1701 19.2921C11.6524 20.9137 13.9095 22.1326 16.2784 22.1326C18.4999 22.1326 20.0553 20.7661 20.0553 18.8855C20.0553 15.567 15.2437 15.1608 11.7631 13.1331C9.72738 11.9512 8.09587 10.181 8.09587 7.26465C8.09587 2.6549 12.3569 0 16.6499 0C19.2775 0 21.7214 0.627589 24.1663 2.43484L21.5751 6.1225C20.5356 5.16359 18.7964 4.42808 17.0926 4.42808C15.2071 4.42808 13.0953 5.23694 13.0953 7.22871C13.0953 11.3983 25.0547 10.1051 25.0547 18.8131C25.0547 23.385 20.9428 26.5573 16.2784 26.5573C12.7988 26.5573 9.57816 25.1217 6.91193 22.684L10.1701 19.2921ZM40.0047 26.191C39.3761 26.4106 37.9295 26.5573 37.0055 26.5573C34.1169 26.5573 32.0089 25.5984 30.7846 23.9757C29.8597 22.7588 29.4515 21.1746 29.4515 18.627V12.3564H24.4541V8.29849H29.4515V3.31853H34.2651V8.29849H40.1895V12.3564H34.2651V19.1785C34.2651 20.2894 34.449 20.9502 34.8581 21.4316C35.3364 21.9858 36.1142 22.3158 37.299 22.3158C38.0036 22.3158 38.9315 22.2083 39.2645 22.1326L40.0047 26.191ZM50.6781 7.92975C56.1184 7.92975 60.2294 12.0989 60.2294 17.2634C60.2294 22.427 56.1184 26.5573 50.6781 26.5573C45.237 26.5573 41.125 22.427 41.125 17.2634C41.125 12.0989 45.237 7.92975 50.6781 7.92975ZM50.6781 22.1326C53.4916 22.1326 55.4148 19.9558 55.4148 17.2634C55.4148 14.5697 53.4916 12.3564 50.6781 12.3564C47.8628 12.3564 45.9396 14.5697 45.9396 17.2634C45.9396 19.9558 47.8628 22.1326 50.6781 22.1326ZM79.2355 22.5382C77.1227 25.3423 74.4556 26.5573 71.0886 26.5573C65.5358 26.5573 61.4614 22.427 61.4614 17.2634C61.4614 12.0624 65.6455 7.92975 71.1261 7.92975C74.2361 7.92975 77.012 9.37013 78.6781 11.5076L75.2718 14.4953C74.3112 13.2419 72.8683 12.3564 71.1261 12.3564C68.3492 12.3564 66.2759 14.5347 66.2759 17.2634C66.2759 20.0669 68.3136 22.1326 71.2388 22.1326C73.1994 22.1326 74.7539 20.9502 75.5317 19.7716L79.2355 22.5382ZM90.0601 16.3404L99.9471 26.191H93.4664L85.875 18.4415V26.191H81.0642V0.368736H85.875V14.0921L92.0574 8.29849H98.8364L90.0601 16.3404ZM0 3.13539C0 1.40297 1.41014 0 3.14751 0C4.88587 0 6.29404 1.40297 6.29404 3.13539C6.29404 4.86487 4.88587 6.27068 3.14751 6.27068C1.41014 6.27068 0 4.86487 0 3.13539Z",fill:"white"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.911077 39.1897H1.8804V32.492H0.897461V31.4613H3.00452V34.4467C3.66629 33.7443 4.43225 33.4107 5.3774 33.4107C7.3855 33.4107 8.82142 34.9385 8.82142 36.8933C8.82142 38.8682 7.3556 40.3867 5.33931 40.3867C4.43225 40.3867 3.72579 40.0678 3.02495 39.3572V40.2407H0.911077V39.1897ZM5.3177 34.4941C4.0729 34.4941 3.00452 35.5194 3.00452 36.9298C3.00452 38.2522 4.0729 39.2991 5.30142 39.2991C6.55422 39.2991 7.61993 38.3009 7.61993 36.8689C7.61993 35.483 6.55422 34.4941 5.3177 34.4941ZM10.2789 41.3403H11.3216L11.8436 40.0409L9.68496 34.6184H8.80504V33.57H11.7785V34.6184H10.8606L12.4226 38.5791L13.9954 34.6184H13.0815V33.57H16.0428V34.6184H15.175L12.4971 41.3403H13.4246V42.386H10.2789V41.3403ZM23.0176 35.8422H28.3706V40.2407H27.4188V38.8548C26.4507 39.9057 25.3456 40.4136 24.0141 40.4136C21.3728 40.4136 19.499 38.3576 19.499 35.7909C19.499 33.4188 21.4108 31.2844 24.1293 31.2844C25.145 31.2844 25.9544 31.5667 26.8114 32.2003V31.4613H27.7754V33.816H26.6853C25.9274 32.9406 25.1015 32.5163 24.0602 32.5163C22.1769 32.5163 20.7871 34.0388 20.7871 35.83C20.7871 37.755 22.2258 39.2006 24.044 39.2006C25.4121 39.2006 26.6392 38.3009 27.0472 36.9012H23.0176V35.8422ZM36.1752 38.128C35.6057 39.5842 34.3772 40.3974 32.9048 40.3974C30.9454 40.3974 29.4093 38.8548 29.4093 36.9134C29.4093 34.9304 31.0323 33.3917 32.8682 33.3917C34.8248 33.3917 36.3867 34.9128 36.3867 36.9636C36.3867 37.0634 36.3867 37.1878 36.3637 37.3471H30.635C30.8208 38.5346 31.7685 39.3126 32.8898 39.3126C33.736 39.3126 34.4518 38.9048 34.8613 38.128H36.1752ZM35.1488 36.3989C34.8478 35.1627 34.0044 34.4589 32.9048 34.4589C31.7901 34.4589 30.8547 35.2127 30.635 36.3989H35.1488ZM37.7738 34.6021H36.7419V33.57H37.7738V31.4613H38.8991V33.57H39.8903V34.6021H38.8991V39.1897H39.8903V40.2407H37.7738V34.6021ZM41.5255 34.6021H40.4992V33.57H41.5255V31.4613H42.655V33.57H43.6408V34.6021H42.655V39.1897H43.6408V40.2407H41.5255V34.6021ZM45.783 41.3403H46.8257L47.3491 40.0409L45.1878 34.6184H44.3106V33.57H47.284V34.6184H46.3647L47.9254 38.5791L49.5063 34.6184H48.5857V33.57H51.5538V34.6184H50.682L48 41.3403H48.9356V42.386H45.783V41.3403ZM54.9449 39.1777H55.9239V32.5163H54.9449V31.4613H58.1557V32.5163H57.1482V39.1777H58.1557V40.2407H54.9449V39.1777ZM59.0952 39.1897H60.0485V34.6021H59.1048V33.57H61.163V34.5184C61.5752 33.7998 62.1554 33.4606 62.9867 33.4606C63.9657 33.4606 64.6802 33.9268 65.0882 34.7886C65.6089 33.8781 66.2462 33.4485 67.1492 33.4485C68.7995 33.4485 69.5546 34.644 69.5546 36.2961V39.1897H70.5213V40.2407H67.4693V39.1897H68.4252V36.234C68.4252 35.11 67.9045 34.5076 66.9785 34.5076C65.9113 34.5076 65.3405 35.2965 65.3405 36.8689V39.1897H66.3113V40.2407H63.2823V39.1897H64.2477V36.9769C64.2477 35.4114 64.0741 34.5076 62.7616 34.5076C61.746 34.5076 61.163 35.2965 61.163 36.8689V39.1897H62.1324V40.2407H59.0952V39.1897ZM76.6649 39.3572C75.9599 40.0678 75.2494 40.3867 74.3572 40.3867C72.3261 40.3867 70.8752 38.8682 70.8752 36.8933C70.8752 34.9385 72.2746 33.4188 74.3111 33.4188C75.2643 33.4188 76.0278 33.7295 76.6934 34.4467V33.57H78.7584V34.6021H77.808V39.1777H78.7694V40.2407H76.6649V39.3572ZM74.3734 34.4941C73.1342 34.4941 72.0657 35.483 72.0657 36.8689C72.0657 38.3009 73.1342 39.2991 74.3802 39.2991C75.606 39.2991 76.6745 38.2604 76.6745 36.9298C76.6745 35.5194 75.606 34.4941 74.3734 34.4941ZM81.0214 40.6325C81.2587 41.3403 81.8892 41.7186 82.8329 41.7186C84.0261 41.7186 85.0282 40.8649 85.0769 39.6342L85.0877 39.2991C84.4193 40.0409 83.6858 40.3731 82.7611 40.3731C80.7775 40.3731 79.3157 38.879 79.3157 36.8933C79.3157 34.9776 80.7286 33.4107 82.7231 33.4107C83.6858 33.4107 84.4572 33.7551 85.1027 34.5076V33.57H87.1718V34.6184H86.2187V39.1437C86.2187 41.4349 84.8899 42.6966 82.8329 42.6966C81.2072 42.6966 80.1456 42.005 79.713 40.6325H81.0214ZM85.1027 36.9406C85.1027 35.5343 84.0478 34.4941 82.8072 34.4941C81.572 34.4941 80.505 35.4937 80.505 36.8797C80.505 38.3251 81.5815 39.3126 82.8072 39.3126C84.0356 39.3126 85.1027 38.2604 85.1027 36.9406ZM94.3595 38.128C93.7885 39.5842 92.5642 40.3974 91.0864 40.3974C89.1284 40.3974 87.5867 38.8548 87.5867 36.9134C87.5867 34.9304 89.2151 33.3917 91.051 33.3917C93.0089 33.3917 94.5723 34.9128 94.5723 36.9636C94.5723 37.0634 94.5723 37.1878 94.5478 37.3471H88.8151C89.0063 38.5346 89.9486 39.3126 91.0741 39.3126C91.9201 39.3126 92.6361 38.9048 93.0428 38.128H94.3595ZM93.3304 36.3989C93.0348 35.1627 92.1901 34.4589 91.0864 34.4589C89.9717 34.4589 89.0402 35.2127 88.8151 36.3989H93.3304ZM95.2611 38.1388H96.3797C96.3797 38.7818 96.9355 39.4275 97.7668 39.4275C98.4705 39.4275 98.8853 39.0519 98.8853 38.4076C98.8853 37.6957 98.3484 37.4336 97.1716 37.1971C95.6734 36.8933 95.3505 36.1151 95.3505 35.3073C95.3505 34.1969 96.1397 33.3823 97.4061 33.3823C97.9553 33.3823 98.3851 33.57 98.7458 33.9618V33.5566H99.6746V35.3343H98.6427C98.4867 34.6806 98.1139 34.386 97.4807 34.386C96.8624 34.386 96.5139 34.6913 96.5139 35.2127C96.5139 35.9516 97.1201 36.0908 98.1627 36.3569C99.4643 36.7068 100.069 37.2498 100.069 38.3361C100.069 39.5842 99.1986 40.4136 97.8143 40.4136C97.181 40.4136 96.7011 40.2152 96.278 39.7543V40.2489H95.2611V38.1388Z",fill:"white"}))},Nr="FUlqB67Kw6XaF_HKNhbK",jr=function(){var e=(0,ee.T)(),t=J().closeModal,n=$();return i().createElement("button",{className:Nr,onClick:function(){t(),(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_modal_Discard_Changes",ui_element_location:"image_adp_modal"}})},type:"button"},n&&e("discard_changes"),i().createElement(qe,null))},Rr="HRpvBqVKJR1BAsbVzfL5",Ar="IhqssBKnfArY4Bv7crI8",Dr="twu17MeCD33mU0TzLtdS",Pr=function(){return i().createElement("div",{className:Rr},i().createElement("div",{className:Ar},i().createElement(Or,{className:Dr})),i().createElement(jr,null))},Hr="cUJjRXH2vE8oAwPCFhcA",Tr=function(e){var t=e.text;return i().createElement("div",{role:"dialog",className:Hr},i().createElement("span",null,t))},zr="pBj6fJTIwKuMTO9iF2QV",Zr="TO05xUi8o_6RweNcrgF_",Vr="gRxydHWlGNEJYZNTTslF",Br="OYNqWcBciaXa_5R6t4_5",qr="FDXlDJmXmplyvgPFJCEu",Fr=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],o=(0,r.useState)(!1),a=o[0],u=o[1],c=Q(),s=c.resetToOriginal,l=c.showNotification,f=c.setShowNotification,d=te();return(0,r.useEffect)((function(){n(!0)}),[]),(0,r.useEffect)((function(){var e;return s&&(u(!1),f(!1)),t&&l&&(u(!0),e=setTimeout((function(){u(!1),f(!1)}),3e3)),function(){clearTimeout(e)}}),[t,s,l]),i().createElement(Yn.CSSTransition,{in:a,mountOnEnter:!0,unmountOnExit:!0,timeout:300,classNames:{enter:zr,enterActive:Zr,exit:Vr,exitActive:s?qr:Br}},i().createElement(Tr,{text:d}))},Ur=function(){return i().createElement("svg",{"data-testid":"open-in-new-window-icon",width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("g",{clipPath:"url(#a)",fill:"#02A388"},i().createElement("path",{d:"M10.873 12.183a.363.363 0 0 1-.37.364H1.845a.363.363 0 0 1-.369-.364v-8.57c0-.203.163-.363.369-.363h5.134V1.796H1.844C.826 1.796 0 2.61 0 3.613v8.57c0 1.003.826 1.818 1.844 1.818h8.66c1.018 0 1.844-.815 1.844-1.818V7.08h-1.476v5.103Z"}),i().createElement("path",{d:"M7.856 0v1.454h3.629L6.32 6.542 7.37 7.567l5.156-5.088v3.583H14V0H7.856Z"})),i().createElement("defs",null,i().createElement("clipPath",{id:"a"},i().createElement("path",{fill:"#fff",d:"M0 0h14v14H0z"}))))},Kr="kl1DHIKZwMaQSXUGgE32",Wr="TyitRyatJaTWY2t4nEvk",Gr="XXNyzMgSJQX8o4UPN3dI",Jr="FvZjSpg9GGLJrSL5aoEg",Yr="lwRTaRHwjk1bANzAF9EK",Qr="lvrceWGU1XqaevDYpfaw",Xr=function(e){var t=e.asset,n=(0,ir.NW)(),o=(0,ee.T)(),a=X().toggleFeedbackModal,u=W(),c=u.modifyObjects,s=u.selectedObjects,l=u.removedObjects,f=Y().backgroundRemoved,d=J().closeModal,h=(0,r.useContext)(de),p=h.setShowEditor,m=h.setEditorSrc,v=s.size>0,_=(0,R._P)("AIModificationsLandingPage");return i().createElement(i().Fragment,null,i().createElement(Kn,null),i().createElement("div",{className:Kr},i().createElement("div",null,i().createElement("button",{className:Qr,type:"button",onClick:a},o("give_feedback")),_.isActive()&&i().createElement("button",{className:Qr,type:"button",onClick:function(){var e=window.open(n.aiModificationsFAQAnchor(),"_blank","noopener,noreferrer");e&&(e.opener=null),(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_modal_FAQ_link",ui_element_location:"image_adp_modal"}})}},o("faqs"),i().createElement(Ur,null))),i().createElement("div",{className:Gr},v&&i().createElement(An.zx,{size:An.tS.LARGE,onClick:function(){c(),(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_modal_apply_changes",ui_element_location:"image_adp_modal"}})},className:Wr},o("apply_changes")),i().createElement(An.u,{content:i().createElement(i().Fragment,null,i().createElement(Ye,null),o("unapplied_changes")),className:Ue()(Jr,v&&Yr),"data-testid":"unapplied-changes-tooltip"},i().createElement(An.zx,{variant:An.hZ.SECONDARY,size:An.tS.LARGE,onClick:function(){var e=document.getElementById("modified-image");e.src!==t.largeMainImageURL?(m(Ht(e)),p(!0),d(f,l)):(p(!1),d(!1,new Set)),(0,q.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_modal_Proceed_to_Download_Button",ui_element_location:"image_adp_modal"}})}},o("proceed_to_download")))),i().createElement(Fr,null)))},$r="kO1Uyv0kx0dLqTY8ad8L",ei="NvD5dvWBsOEKA237MiV7",ti="td5GPOQFDtw2iNQG3vuJ",ni="ciUhcgsXzBrxLArZpwnu",ri=function(e){var t=e.asset,n=e.visualId,r=e.availableModifications,o=J(),a=o.showModal,u=o.modalIsClosing,c=o.initialModificationType,s=o.initialRemovedObjects,l=o.initialBackgroundRemoved,f=o.showOpenAnimation,d=(0,ee.T)(),h=!n;return a&&i().createElement(M,null,i().createElement(O,null,i().createElement(y,{initialModificationType:c},i().createElement(m,{objects:null==r?void 0:r.objects,initialRemovedObjects:s.current},i().createElement(x,{initialBackgroundRemoved:l.current},i().createElement("div",{className:Ue()($r,u&&ti,f.current&&ei),"data-testid":"modifications-modal"},i().createElement("div",{className:ni},i().createElement(Lr,{headerText:d("object_removal_feedback_header"),placement:"bottom-left",visualId:n,assetId:t.assetId}),i().createElement(Pr,null),h?i().createElement(ci,null):i().createElement(Jn,{asset:t,visualId:n,availableModifications:r})),i().createElement(Xr,{asset:t})))))))},ii="PrKmPTKMm8V9Mbf20NrA",oi=function(e){var t=e.children,n=e.className;return i().createElement(nn.u,{className:Ue()(ii,n),placement:"top"},t)},ai=n.p+"static/loading_ring-f90e4bf496d078088dce.png",ui="kAZ52UtVfhPTXqVd5MNz",ci=function(){return i().createElement("img",{className:ui,src:ai,alt:"loading spinner"})},si=(0,n(17129).Qg)((function(e){var t=e.event_name;return{event:"banner_interaction",event_name:t,banner_interaction:t,banner_name:e.banner_name,banner_type:e.banner_type,ui_element_location:e.ui_element_location,link_text:e.link_text,item_id:e.item_id,coupon:e.coupon}})),li="onNmjVQKkNjNW7F5kR2z",fi=function(e){var t=e.text,n=e.buttonText,o=e.toggleModal;(0,r.useEffect)((function(){!function(){if(window&&window.innerWidth>640){var e=si({event_name:"view_banner",banner_name:"remove_background_feedback",banner_type:"notification",ui_element_location:"image_adp_tools_panel_top",link_text:"give_us_your_feedback"});(0,q.j)({name:"bannerShown",payload:{banner_name:"ADP_remove_background_feedback_banner",ui_element_location:"image_adp_tools_panel_top"}},e)}}()}),[]);return i().createElement("div",{className:li,"data-testid":"feedback-banner"},i().createElement("p",null,t),i().createElement("button",{type:"button","data-testid":"feedback-button",onClick:function(){var e;e=si({event_name:"banner_cta_click",banner_name:"remove_background_feedback",banner_type:"notification",ui_element_location:"image_adp_tools_panel_top",link_text:"give_us_your_feedback"}),(0,q.j)({name:"bannerCtaClick",payload:{banner_name:"ADP_remove_background_feedback_banner",ui_element_location:"image_adp_tools_panel_top"}},e),o()}},n))}},8679:function(e,t,n){"use strict";var r=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function c(e){return r.isMemo(e)?a:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var s=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=c(t),m=c(n),v=0;v<a.length;++v){var _=a[v];if(!(o[_]||r&&r[_]||m&&m[_]||u&&u[_])){var g=d(n,_);try{s(t,_,g)}catch(e){}}}}return t}},43393:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:W(e)}function r(e){return u(e)?e:G(e)}function i(e){return c(e)?e:J(e)}function o(e){return a(e)&&!s(e)?e:Y(e)}function a(e){return!(!e||!e[f])}function u(e){return!(!e||!e[d])}function c(e){return!(!e||!e[h])}function s(e){return u(e)||c(e)}function l(e){return!(!e||!e[p])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=u,n.isIndexed=c,n.isAssociative=s,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",m="delete",v=5,_=1<<v,g=_-1,y={},w={value:!1},b={value:!1};function C(e){return e.value=!1,e}function E(e){e&&(e.value=!0)}function x(){}function S(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function k(e){return void 0===e.size&&(e.size=e.__iterate(I)),e.size}function M(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?k(e)+t:t}function I(){return!0}function L(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function O(e,t){return j(e,t,0)}function N(e,t){return j(e,t,t)}function j(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var R=0,A=1,D=2,P="function"==typeof Symbol&&Symbol.iterator,H="@@iterator",T=P||H;function z(e){this.next=e}function Z(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function V(){return{value:void 0,done:!0}}function B(e){return!!U(e)}function q(e){return e&&"function"==typeof e.next}function F(e){var t=U(e);return t&&t.call(e)}function U(e){var t=e&&(P&&e[P]||e[H]);if("function"==typeof t)return t}function K(e){return e&&"number"==typeof e.length}function W(e){return null==e?ae():a(e)?e.toSeq():se(e)}function G(e){return null==e?ae().toKeyedSeq():a(e)?u(e)?e.toSeq():e.fromEntrySeq():ue(e)}function J(e){return null==e?ae():a(e)?u(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function Y(e){return(null==e?ae():a(e)?u(e)?e.entrySeq():e:ce(e)).toSetSeq()}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=R,z.VALUES=A,z.ENTRIES=D,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[T]=function(){return this},t(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(e,t){return fe(this,e,t,!0)},W.prototype.__iterator=function(e,t){return de(this,e,t,!0)},t(G,W),G.prototype.toKeyedSeq=function(){return this},t(J,W),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return fe(this,e,t,!1)},J.prototype.__iterator=function(e,t){return de(this,e,t,!1)},t(Y,W),Y.of=function(){return Y(arguments)},Y.prototype.toSetSeq=function(){return this},W.isSeq=oe,W.Keyed=G,W.Set=Y,W.Indexed=J;var Q,X,$,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function ue(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():q(e)?new ie(e).fromEntrySeq():B(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function se(e){var t=le(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function le(e){return K(e)?new te(e):q(e)?new ie(e):B(e)?new re(e):void 0}function fe(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var u=i[n?o-a:a];if(!1===t(u[1],r?u[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function de(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new z((function(){var e=i[n?o-a:a];return a++>o?V():Z(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function he(e,t){return t?pe(t,e,"",{"":e}):me(e)}function pe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return pe(e,n,r,t)}))):ve(t)?e.call(r,n,G(t).map((function(n,r){return pe(e,n,r,t)}))):t}function me(e){return Array.isArray(e)?J(e).map(me).toList():ve(e)?G(e).map(me).toMap():e}function ve(e){return e&&(e.constructor===Object||void 0===e.constructor)}function _e(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ge(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||u(e)!==u(t)||c(e)!==c(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!s(e);if(l(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&_e(i[1],e)&&(n||_e(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var f=!0,d=t.__iterate((function(t,r){if(n?!e.has(t):i?!_e(t,e.get(r,y)):!_e(e.get(r,y),t))return f=!1,!1}));return f&&e.size===d}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(X)return X;X=this}}function we(e,t){if(!e)throw new Error(t)}function be(e,t,n){if(!(this instanceof be))return new be(e,t,n);if(we(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if($)return $;$=this}}function Ce(){throw TypeError("Abstract")}function Ee(){}function xe(){}function Se(){}W.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[M(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new z((function(){return i>r?V():Z(e,i,n[t?r-i++:i++])}))},t(ne,G),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new z((function(){var a=r[t?i-o:o];return o++>i?V():Z(e,a,n[a])}))},ne.prototype[p]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=F(this._iterable),r=0;if(q(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=F(this._iterable);if(!q(n))return new z(V);var r=0;return new z((function(){var t=n.next();return t.done?t:Z(e,r++,t.value)}))},t(ie,J),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new z((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return Z(e,i,r[i++])}))},t(ye,J),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return _e(this._value,e)},ye.prototype.slice=function(e,t){var n=this.size;return L(e,t,n)?this:new ye(this._value,N(t,n)-O(e,n))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return _e(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return _e(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ye.prototype.__iterator=function(e,t){var n=this,r=0;return new z((function(){return r<n.size?Z(e,r++,n._value):V()}))},ye.prototype.equals=function(e){return e instanceof ye?_e(this._value,e._value):ge(e)},t(be,J),be.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},be.prototype.get=function(e,t){return this.has(e)?this._start+M(this,e)*this._step:t},be.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},be.prototype.slice=function(e,t){return L(e,t,this.size)?this:(e=O(e,this.size),(t=N(t,this.size))<=e?new be(0,0):new be(this.get(e,this._end),this.get(t,this._end),this._step))},be.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},be.prototype.lastIndexOf=function(e){return this.indexOf(e)},be.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},be.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new z((function(){var a=i;return i+=t?-r:r,o>n?V():Z(e,o++,a)}))},be.prototype.equals=function(e){return e instanceof be?this._start===e._start&&this._end===e._end&&this._step===e._step:ge(this,e)},t(Ce,n),t(Ee,Ce),t(xe,Ce),t(Se,Ce),Ce.Keyed=Ee,Ce.Indexed=xe,Ce.Set=Se;var ke="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Me(e){return e>>>1&1073741824|3221225471&e}function Ie(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Me(n)}if("string"===t)return e.length>ze?Le(e):Oe(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Ne(e);if("function"==typeof e.toString)return Oe(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Le(e){var t=Be[e];return void 0===t&&(t=Oe(e),Ve===Ze&&(Ve=0,Be={}),Ve++,Be[e]=t),t}function Oe(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Me(t)}function Ne(e){var t;if(Pe&&void 0!==(t=De.get(e)))return t;if(void 0!==(t=e[Te]))return t;if(!Re){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Te]))return t;if(void 0!==(t=Ae(e)))return t}if(t=++He,1073741824&He&&(He=0),Pe)De.set(e,t);else{if(void 0!==je&&!1===je(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Re)Object.defineProperty(e,Te,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Te]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Te]=t}}return t}var je=Object.isExtensible,Re=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Ae(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var De,Pe="function"==typeof WeakMap;Pe&&(De=new WeakMap);var He=0,Te="__immutablehash__";"function"==typeof Symbol&&(Te=Symbol(Te));var ze=16,Ze=255,Ve=0,Be={};function qe(e){we(e!==1/0,"Cannot perform this action with an infinite size.")}function Fe(e){return null==e?it():Ue(e)&&!l(e)?e:it().withMutations((function(t){var n=r(e);qe(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ue(e){return!(!e||!e[We])}t(Fe,Ee),Fe.of=function(){var t=e.call(arguments,0);return it().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},Fe.prototype.toString=function(){return this.__toString("Map {","}")},Fe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Fe.prototype.set=function(e,t){return ot(this,e,t)},Fe.prototype.setIn=function(e,t){return this.updateIn(e,y,(function(){return t}))},Fe.prototype.remove=function(e){return ot(this,e,y)},Fe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return y}))},Fe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Fe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=vt(this,Cn(e),t,n);return r===y?void 0:r},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},Fe.prototype.merge=function(){return dt(this,void 0,arguments)},Fe.prototype.mergeWith=function(t){return dt(this,t,e.call(arguments,1))},Fe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Fe.prototype.mergeDeep=function(){return dt(this,ht,arguments)},Fe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return dt(this,pt(t),n)},Fe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Fe.prototype.sort=function(e){return Bt(fn(this,e))},Fe.prototype.sortBy=function(e,t){return Bt(fn(this,t,e))},Fe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Fe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new x)},Fe.prototype.asImmutable=function(){return this.__ensureOwner()},Fe.prototype.wasAltered=function(){return this.__altered},Fe.prototype.__iterator=function(e,t){return new et(this,e,t)},Fe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Fe.isMap=Ue;var Ke,We="@@__IMMUTABLE_MAP__@@",Ge=Fe.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function Ye(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Xe(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return Z(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(Ge);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return Ke||(Ke=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=C(w),a=C(b);if(r=at(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===y?-1:1:0)}else{if(n===y)return e;i=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function at(e,t,n,r,i,o,a,u){return e?e.update(t,n,r,i,o,a,u):o===y?e:(E(u),E(a),new $e(t,r,[i,o]))}function ut(e){return e.constructor===$e||e.constructor===Xe}function ct(e,t,n,r,i){if(e.keyHash===r)return new Xe(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&g,u=(0===n?r:r>>>n)&g;return new Ye(t,1<<a|1<<u,a===u?[ct(e,t,n+v,r,i)]:(o=new $e(t,r,i),a<u?[e,o]:[o,e]))}function st(e,t,n,r){e||(e=new x);for(var i=new $e(e,Ie(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function lt(e,t,n,r){for(var i=0,o=0,a=new Array(n),u=0,c=1,s=t.length;u<s;u++,c<<=1){var l=t[u];void 0!==l&&u!==r&&(i|=c,a[o++]=l)}return new Ye(e,i,a)}function ft(e,t,n,r,i){for(var o=0,a=new Array(_),u=0;0!==n;u++,n>>>=1)a[u]=1&n?t[o++]:void 0;return a[r]=i,new Qe(e,o+1,a)}function dt(e,t,n){for(var i=[],o=0;o<n.length;o++){var u=n[o],c=r(u);a(u)||(c=c.map((function(e){return he(e)}))),i.push(c)}return mt(e,t,i)}function ht(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):_e(e,t)?e:t}function pt(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return _e(t,i)?t:i}}function mt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,y,(function(e){return e===y?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function vt(e,t,n,r){var i=e===y,o=t.next();if(o.done){var a=i?n:e,u=r(a);return u===a?e:u}we(i||e&&e.set,"invalid keyPath");var c=o.value,s=i?y:e.get(c,y),l=vt(s,t,n,r);return l===s?e:l===y?e.remove(c):(i?it():e).set(c,l)}function _t(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function gt(e,t,n,r){var i=r?e:S(e);return i[t]=n,i}function yt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,u=0;u<i;u++)u===t?(o[u]=n,a=-1):o[u]=e[u+a];return o}function wt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}Ge[We]=!0,Ge[m]=Ge.remove,Ge.removeIn=Ge.deleteIn,Je.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(_e(n,i[o][0]))return i[o][1];return r},Je.prototype.update=function(e,t,n,r,i,o,a){for(var u=i===y,c=this.entries,s=0,l=c.length;s<l&&!_e(r,c[s][0]);s++);var f=s<l;if(f?c[s][1]===i:u)return this;if(E(a),(u||!f)&&E(o),!u||1!==c.length){if(!f&&!u&&c.length>=bt)return st(e,c,r,i);var d=e&&e===this.ownerID,h=d?c:S(c);return f?u?s===l-1?h.pop():h[s]=h.pop():h[s]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Je(e,h)}},Ye.prototype.get=function(e,t,n,r){void 0===t&&(t=Ie(n));var i=1<<((0===e?t:t>>>e)&g),o=this.bitmap;return 0==(o&i)?r:this.nodes[_t(o&i-1)].get(e+v,t,n,r)},Ye.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ie(r));var u=(0===t?n:n>>>t)&g,c=1<<u,s=this.bitmap,l=0!=(s&c);if(!l&&i===y)return this;var f=_t(s&c-1),d=this.nodes,h=l?d[f]:void 0,p=at(h,e,t+v,n,r,i,o,a);if(p===h)return this;if(!l&&p&&d.length>=Ct)return ft(e,d,s,u,p);if(l&&!p&&2===d.length&&ut(d[1^f]))return d[1^f];if(l&&p&&1===d.length&&ut(p))return p;var m=e&&e===this.ownerID,_=l?p?s:s^c:s|c,w=l?p?gt(d,f,p,m):wt(d,f,m):yt(d,f,p,m);return m?(this.bitmap=_,this.nodes=w,this):new Ye(e,_,w)},Qe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ie(n));var i=(0===e?t:t>>>e)&g,o=this.nodes[i];return o?o.get(e+v,t,n,r):r},Qe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ie(r));var u=(0===t?n:n>>>t)&g,c=i===y,s=this.nodes,l=s[u];if(c&&!l)return this;var f=at(l,e,t+v,n,r,i,o,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<Et)return lt(e,s,d,u)}else d++;var h=e&&e===this.ownerID,p=gt(s,u,f,h);return h?(this.count=d,this.nodes=p,this):new Qe(e,d,p)},Xe.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(_e(n,i[o][0]))return i[o][1];return r},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ie(r));var u=i===y;if(n!==this.keyHash)return u?this:(E(a),E(o),ct(this,e,t,n,[r,i]));for(var c=this.entries,s=0,l=c.length;s<l&&!_e(r,c[s][0]);s++);var f=s<l;if(f?c[s][1]===i:u)return this;if(E(a),(u||!f)&&E(o),u&&2===l)return new $e(e,this.keyHash,c[1^s]);var d=e&&e===this.ownerID,h=d?c:S(c);return f?u?s===l-1?h.pop():h[s]=h.pop():h[s]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Xe(e,this.keyHash,h)},$e.prototype.get=function(e,t,n,r){return _e(n,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,t,n,r,i,o,a){var u=i===y,c=_e(r,this.entry[0]);return(c?i===this.entry[1]:u)?this:(E(a),u?void E(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new $e(e,this.keyHash,[r,i]):(E(o),ct(this,e,t,Ie(r),[r,i])))},Je.prototype.iterate=Xe.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Ye.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(et,z),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return V()};var bt=_/4,Ct=_/2,Et=_/4;function xt(e){var t=At();if(null==e)return t;if(St(e))return e;var n=i(e),r=n.size;return 0===r?t:(qe(r),r>0&&r<_?Rt(0,r,v,null,new It(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function St(e){return!(!e||!e[kt])}t(xt,xe),xt.of=function(){return this(arguments)},xt.prototype.toString=function(){return this.__toString("List [","]")},xt.prototype.get=function(e,t){if((e=M(this,e))>=0&&e<this.size){var n=Tt(this,e+=this._origin);return n&&n.array[e&g]}return t},xt.prototype.set=function(e,t){return Dt(this,e,t)},xt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},xt.prototype.insert=function(e,t){return this.splice(e,0,t)},xt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):At()},xt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){zt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},xt.prototype.pop=function(){return zt(this,0,-1)},xt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){zt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},xt.prototype.shift=function(){return zt(this,1)},xt.prototype.merge=function(){return Zt(this,void 0,arguments)},xt.prototype.mergeWith=function(t){return Zt(this,t,e.call(arguments,1))},xt.prototype.mergeDeep=function(){return Zt(this,ht,arguments)},xt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Zt(this,pt(t),n)},xt.prototype.setSize=function(e){return zt(this,0,e)},xt.prototype.slice=function(e,t){var n=this.size;return L(e,t,n)?this:zt(this,O(e,n),N(t,n))},xt.prototype.__iterator=function(e,t){var n=0,r=jt(this,t);return new z((function(){var t=r();return t===Nt?V():Z(e,n++,t)}))},xt.prototype.__iterate=function(e,t){for(var n,r=0,i=jt(this,t);(n=i())!==Nt&&!1!==e(n,r++,this););return r},xt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Rt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},xt.isList=St;var kt="@@__IMMUTABLE_LIST__@@",Mt=xt.prototype;function It(e,t){this.array=e,this.ownerID=t}Mt[kt]=!0,Mt[m]=Mt.remove,Mt.setIn=Ge.setIn,Mt.deleteIn=Mt.removeIn=Ge.removeIn,Mt.update=Ge.update,Mt.updateIn=Ge.updateIn,Mt.mergeIn=Ge.mergeIn,Mt.mergeDeepIn=Ge.mergeDeepIn,Mt.withMutations=Ge.withMutations,Mt.asMutable=Ge.asMutable,Mt.asImmutable=Ge.asImmutable,Mt.wasAltered=Ge.wasAltered,It.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&g;if(r>=this.array.length)return new It([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-v,n))===a&&o)return this}if(o&&!i)return this;var u=Ht(this,e);if(!o)for(var c=0;c<r;c++)u.array[c]=void 0;return i&&(u.array[r]=i),u},It.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&g;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-v,n))===o&&i===this.array.length-1)return this}var a=Ht(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Lt,Ot,Nt={};function jt(e,t){var n=e._origin,r=e._capacity,i=Vt(r),o=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?u(e,n):c(e,t,n)}function u(e,a){var u=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,s=r-a;return s>_&&(s=_),function(){if(c===s)return Nt;var e=t?--s:c++;return u&&u[e]}}function c(e,i,o){var u,c=e&&e.array,s=o>n?0:n-o>>i,l=1+(r-o>>i);return l>_&&(l=_),function(){for(;;){if(u){var e=u();if(e!==Nt)return e;u=null}if(s===l)return Nt;var n=t?--l:s++;u=a(c&&c[n],i-v,o+(n<<i))}}}}function Rt(e,t,n,r,i,o,a){var u=Object.create(Mt);return u.size=t-e,u._origin=e,u._capacity=t,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function At(){return Lt||(Lt=Rt(0,0,v))}function Dt(e,t,n){if((t=M(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?zt(e,t).set(0,n):zt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=C(b);return t>=Vt(e._capacity)?r=Pt(r,e.__ownerID,0,t,n,o):i=Pt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Rt(e._origin,e._capacity,e._level,i,r):e}function Pt(e,t,n,r,i,o){var a,u=r>>>n&g,c=e&&u<e.array.length;if(!c&&void 0===i)return e;if(n>0){var s=e&&e.array[u],l=Pt(s,t,n-v,r,i,o);return l===s?e:((a=Ht(e,t)).array[u]=l,a)}return c&&e.array[u]===i?e:(E(o),a=Ht(e,t),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function Ht(e,t){return t&&e&&t===e.ownerID?e:new It(e?e.array.slice():[],t)}function Tt(e,t){if(t>=Vt(e._capacity))return e._tail;if(t<1<<e._level+v){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&g],r-=v;return n}}function zt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new x,i=e._origin,o=e._capacity,a=i+t,u=void 0===n?o:n<0?o+n:i+n;if(a===i&&u===o)return e;if(a>=u)return e.clear();for(var c=e._level,s=e._root,l=0;a+l<0;)s=new It(s&&s.array.length?[void 0,s]:[],r),l+=1<<(c+=v);l&&(a+=l,i+=l,u+=l,o+=l);for(var f=Vt(o),d=Vt(u);d>=1<<c+v;)s=new It(s&&s.array.length?[s]:[],r),c+=v;var h=e._tail,p=d<f?Tt(e,u-1):d>f?new It([],r):h;if(h&&d>f&&a<o&&h.array.length){for(var m=s=Ht(s,r),_=c;_>v;_-=v){var y=f>>>_&g;m=m.array[y]=Ht(m.array[y],r)}m.array[f>>>v&g]=h}if(u<o&&(p=p&&p.removeAfter(r,0,u)),a>=d)a-=d,u-=d,c=v,s=null,p=p&&p.removeBefore(r,0,a);else if(a>i||d<f){for(l=0;s;){var w=a>>>c&g;if(w!==d>>>c&g)break;w&&(l+=(1<<c)*w),c-=v,s=s.array[w]}s&&a>i&&(s=s.removeBefore(r,c,a-l)),s&&d<f&&(s=s.removeAfter(r,c,d-l)),l&&(a-=l,u-=l)}return e.__ownerID?(e.size=u-a,e._origin=a,e._capacity=u,e._level=c,e._root=s,e._tail=p,e.__hash=void 0,e.__altered=!0,e):Rt(a,u,c,s,p)}function Zt(e,t,n){for(var r=[],o=0,u=0;u<n.length;u++){var c=n[u],s=i(c);s.size>o&&(o=s.size),a(c)||(s=s.map((function(e){return he(e)}))),r.push(s)}return o>e.size&&(e=e.setSize(o)),mt(e,t,r)}function Vt(e){return e<_?0:e-1>>>v<<v}function Bt(e){return null==e?Ut():qt(e)?e:Ut().withMutations((function(t){var n=r(e);qe(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function qt(e){return Ue(e)&&l(e)}function Ft(e,t,n,r){var i=Object.create(Bt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Ut(){return Ot||(Ot=Ft(it(),At()))}function Kt(e,t,n){var r,i,o=e._map,a=e._list,u=o.get(t),c=void 0!==u;if(n===y){if(!c)return e;a.size>=_&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&u!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=u===a.size-1?a.pop():a.set(u,void 0))}else if(c){if(n===a.get(u)[1])return e;r=o,i=a.set(u,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Ft(r,i)}function Wt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Gt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Qt(e){var t=yn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=wn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===D){var r=e.__iterator(t,n);return new z((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===A?R:A,n)},t}function Xt(e,t,n){var r=yn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,y);return o===y?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(D,i);return new z((function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return Z(r,u,t.call(n,a[1],u,e),i)}))},r}function $t(e,t){var n=yn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Qt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=wn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=yn(e);return r&&(i.has=function(r){var i=e.get(r,y);return i!==y&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,y);return o!==y&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return u++,i(e,r?o:u-1,a)}),o),u},i.__iteratorUncached=function(i,o){var a=e.__iterator(D,o),u=0;return new z((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,s=c[0],l=c[1];if(t.call(n,l,s,e))return Z(i,r?s:u++,l,o)}}))},i}function tn(e,t,n){var r=Fe().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=u(e),i=(l(e)?Bt():Fe()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=gn(e);return i.map((function(t){return mn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=i:n|=0),L(t,n,i))return e;var o=O(t,i),a=N(n,i);if(o!=o||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var u,c=a-o;c==c&&(u=c<0?0:c);var s=yn(e);return s.size=0===u?u:e.size&&u||void 0,!r&&oe(e)&&u>=0&&(s.get=function(t,n){return(t=M(this,t))>=0&&t<u?e.get(t+o,n):n}),s.__iterateUncached=function(t,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,s=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return s++,!1!==t(e,r?n:s-1,i)&&s!==u})),s},s.__iteratorUncached=function(t,n){if(0!==u&&n)return this.cacheResult().__iterator(t,n);var i=0!==u&&e.__iterator(t,n),a=0,c=0;return new z((function(){for(;a++<o;)i.next();if(++c>u)return V();var e=i.next();return r||t===A?e:Z(t,c-1,t===R?void 0:e.value[1],e)}))},s}function on(e,t,n){var r=yn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,u){return t.call(n,e,i,u)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(D,i),u=!0;return new z((function(){if(!u)return V();var e=a.next();if(e.done)return e;var i=e.value,c=i[0],s=i[1];return t.call(n,s,c,o)?r===D?e:Z(r,c,s,e):(u=!1,V())}))},r}function an(e,t,n,r){var i=yn(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,c=0;return e.__iterate((function(e,o,s){if(!u||!(u=t.call(n,e,o,s)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=e.__iterator(D,o),c=!0,s=0;return new z((function(){var e,o,l;do{if((e=u.next()).done)return r||i===A?e:Z(i,s++,i===R?void 0:e.value[1],e);var f=e.value;o=f[0],l=f[1],c&&(c=t.call(n,l,o,a))}while(c);return i===D?e:Z(i,o,l,e)}))},i}function un(e,t){var n=u(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?ue(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&u(o)||c(e)&&c(o))return o}var s=new te(i);return n?s=s.toKeyedSeq():c(e)||(s=s.toSetSeq()),(s=s.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),s}function cn(e,t,n){var r=yn(e);return r.__iterateUncached=function(r,i){var o=0,u=!1;function c(e,s){var l=this;e.__iterate((function(e,i){return(!t||s<t)&&a(e)?c(e,s+1):!1===r(e,n?i:o++,l)&&(u=!0),!u}),i)}return c(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),u=[],c=0;return new z((function(){for(;o;){var e=o.next();if(!1===e.done){var s=e.value;if(r===D&&(s=s[1]),t&&!(u.length<t)||!a(s))return n?e:Z(r,c++,s,e);u.push(o),o=s.__iterator(r,i)}else o=u.pop()}return V()}))},r}function sn(e,t,n){var r=gn(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function ln(e,t){var n=yn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(A,r),a=0;return new z((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?Z(n,a++,t):Z(n,a++,i.value,i)}))},n}function fn(e,t,n){t||(t=bn);var r=u(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?G(o):c(e)?J(o):Y(o)}function dn(e,t,n){if(t||(t=bn),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return hn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return hn(t,e,n)?n:e}))}function hn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function pn(e,t,r){var i=yn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(A,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),F(i?e.reverse():e)})),a=0,u=!1;return new z((function(){var n;return u||(n=o.map((function(e){return e.next()})),u=n.some((function(e){return e.done}))),u?V():Z(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function mn(e,t){return oe(e)?t:e.constructor(t)}function vn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function _n(e){return qe(e.size),k(e)}function gn(e){return u(e)?r:c(e)?i:o}function yn(e){return Object.create((u(e)?G:c(e)?J:Y).prototype)}function wn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function bn(e,t){return e>t?1:e<t?-1:0}function Cn(e){var t=F(e);if(!t){if(!K(e))throw new TypeError("Expected iterable or array-like: "+e);t=F(n(e))}return t}function En(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);Mn(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=Fe(o)},i=r.prototype=Object.create(xn);return i.constructor=r,r}t(Bt,Fe),Bt.of=function(){return this(arguments)},Bt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Bt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ut()},Bt.prototype.set=function(e,t){return Kt(this,e,t)},Bt.prototype.remove=function(e){return Kt(this,e,y)},Bt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Bt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Bt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Bt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ft(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Bt.isOrderedMap=qt,Bt.prototype[p]=!0,Bt.prototype[m]=Bt.prototype.remove,t(Wt,G),Wt.prototype.get=function(e,t){return this._iter.get(e,t)},Wt.prototype.has=function(e){return this._iter.has(e)},Wt.prototype.valueSeq=function(){return this._iter.valueSeq()},Wt.prototype.reverse=function(){var e=this,t=$t(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Wt.prototype.map=function(e,t){var n=this,r=Xt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Wt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?_n(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Wt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(A,t),r=t?_n(this):0;return new z((function(){var i=n.next();return i.done?i:Z(e,t?--r:r++,i.value,i)}))},Wt.prototype[p]=!0,t(Gt,J),Gt.prototype.includes=function(e){return this._iter.includes(e)},Gt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Gt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t),r=0;return new z((function(){var t=n.next();return t.done?t:Z(e,r++,t.value,t)}))},t(Jt,Y),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t);return new z((function(){var t=n.next();return t.done?t:Z(e,t.value,t.value,t)}))},t(Yt,G),Yt.prototype.entrySeq=function(){return this._iter.toSeq()},Yt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){vn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t);return new z((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){vn(r);var i=a(r);return Z(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Gt.prototype.cacheResult=Wt.prototype.cacheResult=Jt.prototype.cacheResult=Yt.prototype.cacheResult=wn,t(En,Ee),En.prototype.toString=function(){return this.__toString(kn(this)+" {","}")},En.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},En.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},En.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Sn(this,it()))},En.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+kn(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Sn(this,n)},En.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Sn(this,t)},En.prototype.wasAltered=function(){return this._map.wasAltered()},En.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},En.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},En.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Sn(this,t,e):(this.__ownerID=e,this._map=t,this)};var xn=En.prototype;function Sn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function kn(e){return e._name||e.constructor.name||"Record"}function Mn(e,t){try{t.forEach(In.bind(void 0,e))}catch(e){}}function In(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){we(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Ln(e){return null==e?Pn():On(e)&&!l(e)?e:Pn().withMutations((function(t){var n=o(e);qe(n.size),n.forEach((function(e){return t.add(e)}))}))}function On(e){return!(!e||!e[jn])}xn[m]=xn.remove,xn.deleteIn=xn.removeIn=Ge.removeIn,xn.merge=Ge.merge,xn.mergeWith=Ge.mergeWith,xn.mergeIn=Ge.mergeIn,xn.mergeDeep=Ge.mergeDeep,xn.mergeDeepWith=Ge.mergeDeepWith,xn.mergeDeepIn=Ge.mergeDeepIn,xn.setIn=Ge.setIn,xn.update=Ge.update,xn.updateIn=Ge.updateIn,xn.withMutations=Ge.withMutations,xn.asMutable=Ge.asMutable,xn.asImmutable=Ge.asImmutable,t(Ln,Se),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(r(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("Set {","}")},Ln.prototype.has=function(e){return this._map.has(e)},Ln.prototype.add=function(e){return An(this,this._map.set(e,!0))},Ln.prototype.remove=function(e){return An(this,this._map.remove(e))},Ln.prototype.clear=function(){return An(this,this._map.clear())},Ln.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},Ln.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},Ln.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},Ln.prototype.merge=function(){return this.union.apply(this,arguments)},Ln.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Ln.prototype.sort=function(e){return Hn(fn(this,e))},Ln.prototype.sortBy=function(e,t){return Hn(fn(this,t,e))},Ln.prototype.wasAltered=function(){return this._map.wasAltered()},Ln.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},Ln.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},Ln.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Ln.isSet=On;var Nn,jn="@@__IMMUTABLE_SET__@@",Rn=Ln.prototype;function An(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Dn(e,t){var n=Object.create(Rn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Pn(){return Nn||(Nn=Dn(it()))}function Hn(e){return null==e?Bn():Tn(e)?e:Bn().withMutations((function(t){var n=o(e);qe(n.size),n.forEach((function(e){return t.add(e)}))}))}function Tn(e){return On(e)&&l(e)}Rn[jn]=!0,Rn[m]=Rn.remove,Rn.mergeDeep=Rn.merge,Rn.mergeDeepWith=Rn.mergeWith,Rn.withMutations=Ge.withMutations,Rn.asMutable=Ge.asMutable,Rn.asImmutable=Ge.asImmutable,Rn.__empty=Pn,Rn.__make=Dn,t(Hn,Ln),Hn.of=function(){return this(arguments)},Hn.fromKeys=function(e){return this(r(e).keySeq())},Hn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Hn.isOrderedSet=Tn;var zn,Zn=Hn.prototype;function Vn(e,t){var n=Object.create(Zn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Bn(){return zn||(zn=Vn(Ut()))}function qn(e){return null==e?Jn():Fn(e)?e:Jn().unshiftAll(e)}function Fn(e){return!(!e||!e[Kn])}Zn[p]=!0,Zn.__empty=Bn,Zn.__make=Vn,t(qn,xe),qn.of=function(){return this(arguments)},qn.prototype.toString=function(){return this.__toString("Stack [","]")},qn.prototype.get=function(e,t){var n=this._head;for(e=M(this,e);n&&e--;)n=n.next;return n?n.value:t},qn.prototype.peek=function(){return this._head&&this._head.value},qn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Gn(e,t)},qn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;qe(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Gn(t,n)},qn.prototype.pop=function(){return this.slice(1)},qn.prototype.unshift=function(){return this.push.apply(this,arguments)},qn.prototype.unshiftAll=function(e){return this.pushAll(e)},qn.prototype.shift=function(){return this.pop.apply(this,arguments)},qn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},qn.prototype.slice=function(e,t){if(L(e,t,this.size))return this;var n=O(e,this.size);if(N(t,this.size)!==this.size)return xe.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Gn(r,i)},qn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Gn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},qn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},qn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new z((function(){if(r){var t=r.value;return r=r.next,Z(e,n++,t)}return V()}))},qn.isStack=Fn;var Un,Kn="@@__IMMUTABLE_STACK__@@",Wn=qn.prototype;function Gn(e,t,n,r){var i=Object.create(Wn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Jn(){return Un||(Un=Gn(0))}function Yn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Wn[Kn]=!0,Wn.withMutations=Ge.withMutations,Wn.asMutable=Ge.asMutable,Wn.asImmutable=Ge.asImmutable,Wn.wasAltered=Ge.wasAltered,n.Iterator=z,Yn(n,{toArray:function(){qe(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Gt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Wt(this,!0)},toMap:function(){return Fe(this.toKeyedSeq())},toObject:function(){qe(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Bt(this.toKeyedSeq())},toOrderedSet:function(){return Hn(u(this)?this.valueSeq():this)},toSet:function(){return Ln(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return qn(u(this)?this.valueSeq():this)},toList:function(){return xt(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return mn(this,un(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return _e(t,e)}))},entries:function(){return this.__iterator(D)},every:function(e,t){qe(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return mn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return qe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){qe(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(R)},map:function(e,t){return mn(this,Xt(this,e,t))},reduce:function(e,t,n){var r,i;return qe(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return mn(this,$t(this,!0))},slice:function(e,t){return mn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return mn(this,fn(this,e))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return k(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ge(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(I)},flatMap:function(e,t){return mn(this,sn(this,e,t))},flatten:function(e){return mn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Yt(this)},get:function(e,t){return this.find((function(t,n){return _e(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=Cn(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,y):y)===y)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,y)!==y},hasIn:function(e){return this.getIn(e,y)!==y},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return _e(t,e)}))},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return dn(this,e)},maxBy:function(e,t){return dn(this,t,e)},min:function(e){return dn(this,e?nr(e):or)},minBy:function(e,t){return dn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return mn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return mn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return mn(this,fn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return mn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return mn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Qn=n.prototype;Qn[f]=!0,Qn[T]=Qn.values,Qn.__toJS=Qn.toArray,Qn.__toStringMapper=rr,Qn.inspect=Qn.toSource=function(){return this.toString()},Qn.chain=Qn.flatMap,Qn.contains=Qn.includes,Yn(r,{flip:function(){return mn(this,Qt(this))},mapEntries:function(e,t){var n=this,r=0;return mn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return mn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Xn=r.prototype;function $n(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):String(e)}function ir(){return S(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=l(e),n=u(e),r=t?1:0;return ur(e.__iterate(n?t?function(e,t){r=31*r+cr(Ie(e),Ie(t))|0}:function(e,t){r=r+cr(Ie(e),Ie(t))|0}:t?function(e){r=31*r+Ie(e)|0}:function(e){r=r+Ie(e)|0}),r)}function ur(e,t){return t=ke(t,3432918353),t=ke(t<<15|t>>>-15,461845907),t=ke(t<<13|t>>>-13,5),t=ke((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Me((t=ke(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Xn[d]=!0,Xn[T]=Qn.entries,Xn.__toJS=Qn.toObject,Xn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Yn(i,{toKeyedSeq:function(){return new Wt(this,!1)},filter:function(e,t){return mn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return mn(this,$t(this,!1))},slice:function(e,t){return mn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=O(e,e<0?this.count():this.size);var r=this.slice(0,e);return mn(this,1===n?r:r.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return mn(this,cn(this,e,!1))},get:function(e,t){return(e=M(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=M(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return mn(this,ln(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=pn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),mn(this,n)},keySeq:function(){return be(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return mn(this,an(this,e,t,!1))},zip:function(){return mn(this,pn(this,ir,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,mn(this,pn(this,e,t))}}),i.prototype[h]=!0,i.prototype[p]=!0,Yn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Qn.includes,o.prototype.contains=o.prototype.includes,Yn(G,r.prototype),Yn(J,i.prototype),Yn(Y,o.prototype),Yn(Ee,r.prototype),Yn(xe,i.prototype),Yn(Se,o.prototype),{Iterable:n,Seq:W,Collection:Ce,Map:Fe,OrderedMap:Bt,List:xt,Stack:qn,Set:Ln,OrderedSet:Hn,Record:En,Range:be,Repeat:ye,is:_e,fromJS:he}}()},95998:function(e,t,n){"use strict";n.d(t,{zt:function(){return w},I0:function(){return x},v9:function(){return m}});var r=n(61688),i=n(52798),o=n(97170);let a=function(e){e()};const u=()=>a;var c=n(84481),s=n.n(c);const l=s().createContext(null);function f(){return(0,c.useContext)(l)}let d=()=>{throw new Error("uSES not initialized!")};const h=(e,t)=>e===t;function p(e=l){const t=e===l?f:()=>(0,c.useContext)(e);return function(e,n=h){const{store:r,subscription:i,getServerState:o}=t(),a=d(i.addNestedSub,r.getState,o||r.getState,e,n);return(0,c.useDebugValue)(a),a}}const m=p();n(8679),n(59864);const v={notify(){},get:()=>[]};function _(e,t){let n,r=v;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){const e=u();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}const a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=v)},getListeners:()=>r};return a}const g=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?c.useLayoutEffect:c.useEffect;let y=null;var w=function({store:e,context:t,children:n,serverState:r}){const i=(0,c.useMemo)((()=>{const t=_(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0}}),[e,r]),o=(0,c.useMemo)((()=>e.getState()),[e]);g((()=>{const{subscription:t}=i;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),o!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[i,o]);const a=t||l;return s().createElement(a.Provider,{value:i},n)};function b(e=l){const t=e===l?f:()=>(0,c.useContext)(e);return function(){const{store:e}=t();return e}}const C=b();function E(e=l){const t=e===l?C:b(e);return function(){return t().dispatch}}const x=E();var S,k;S=i.useSyncExternalStoreWithSelector,d=S,(e=>{y=e})(r.useSyncExternalStore),k=o.unstable_batchedUpdates,a=k},27428:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(43393),o=(r=i)&&r.__esModule?r:{default:r},a=n(79607);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.Map,n=Object.keys(e);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t(),i=arguments[1];return r.withMutations((function(t){n.forEach((function(n){var r=(0,e[n])(t.get(n),i);(0,a.validateNextState)(r,n,i),t.set(n,r)}))}))}},e.exports=t.default},72739:function(e,t,n){"use strict";t.U=void 0;var r,i=n(27428),o=(r=i)&&r.__esModule?r:{default:r};t.U=o.default},94528:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"@@redux/INIT"===e.type?"initialState argument passed to createStore":"previous state received by the reducer"},e.exports=t.default},93651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(43393)),i=o(n(94528));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var o=Object.keys(t);if(!o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var a=(0,i.default)(n);if(r.default.isImmutable?!r.default.isImmutable(e):!r.default.Iterable.isIterable(e))return"The "+a+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+o.join('", "')+'".';var u=e.toSeq().keySeq().toArray().filter((function(e){return!t.hasOwnProperty(e)}));return u.length>0?"Unexpected "+(1===u.length?"property":"properties")+' "'+u.join('", "')+'" found in '+a+'. Expected to find one of the known reducer property names instead: "'+o.join('", "')+'". Unexpected properties will be ignored.':null},e.exports=t.default},79607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateNextState=t.getUnexpectedInvocationParameterMessage=t.getStateName=void 0;var r=a(n(94528)),i=a(n(93651)),o=a(n(85527));function a(e){return e&&e.__esModule?e:{default:e}}t.getStateName=r.default,t.getUnexpectedInvocationParameterMessage=i.default,t.validateNextState=o.default},85527:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw new Error('Reducer "'+t+'" returned undefined when handling "'+n.type+'" action. To ignore an action, you must explicitly return the previous state.')},e.exports=t.default},53894:function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var r=n();r.withExtraArgument=n,t.Z=r},14791:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,{md:function(){return m},qC:function(){return p},MT:function(){return h}});var s="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},f={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function d(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(c(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(c(1));return n(h)(e,t)}if("function"!=typeof e)throw new Error(c(2));var i=e,o=t,a=[],u=a,l=!1;function p(){u===a&&(u=a.slice())}function m(){if(l)throw new Error(c(3));return o}function v(e){if("function"!=typeof e)throw new Error(c(4));if(l)throw new Error(c(5));var t=!0;return p(),u.push(e),function(){if(t){if(l)throw new Error(c(6));t=!1,p();var n=u.indexOf(e);u.splice(n,1),a=null}}}function _(e){if(!d(e))throw new Error(c(7));if(void 0===e.type)throw new Error(c(8));if(l)throw new Error(c(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=u,n=0;n<t.length;n++){(0,t[n])()}return e}return _({type:f.INIT}),(r={dispatch:_,subscribe:v,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error(c(10));i=e,_({type:f.REPLACE})}})[s]=function(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(c(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e},r}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(c(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=p.apply(void 0,o)(n.dispatch),u(u({},n),{},{dispatch:r})}}}},50139:function(e,t,n){"use strict";var r=n(84481),i=n(61688);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,u=r.useRef,c=r.useEffect,s=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=s((function(){function e(e){if(!c){if(c=!0,a=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return u=t}return u=e}if(t=u,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,u=n)}var a,u,c=!1,s=void 0===n?null:n;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]}),[t,n,r,i]);var h=a(e,f[0],f[1]);return c((function(){d.hasValue=!0,d.value=h}),[h]),l(h),h}},52798:function(e,t,n){"use strict";e.exports=n(50139)}}]);
//# sourceMappingURL=3742-26a9d22364ec6adc59fd.js.map